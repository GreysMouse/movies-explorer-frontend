{"version":3,"sources":["utils/windowWidthListener.js","config.js","utils/moviesFilter.js","utils/moviesUploader.js","utils/errorHandler.js","utils/authApi.js","utils/userApi.js","utils/moviesApi.js","contexts/CurrentUserContext.js","contexts/IsLoggedInContext.js","images/current-user-avatar.jpg","components/ProtectedRoute/ProtectedRoute.js","images/website-logo.svg","components/Logo/Logo.js","images/default-student-avatar.svg","components/Navigation/Navigation.js","components/MenuButton/MenuButton.js","components/Header/Header.js","components/NavTab/NavTab.js","components/Promo/Promo.js","components/SectionHeader/SectionHeader.js","components/PlanGrid/PlanGrid.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","components/Portfolio/Portfolio.js","components/StudentCard/StudentCard.js","components/AboutMe/AboutMe.js","components/Main/Main.js","components/Footer/Footer.js","components/FilterCheckbox/FilterCheckbox.js","components/SearchForm/SearchForm.js","components/Preloader/Preloader.js","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","components/MoviesUploader/MoviesUploader.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","components/ProfileForm/ProfileForm.js","components/ProfileFormInput/ProfileFormInput.js","components/Profile/Profile.js","components/AuthForm/AuthForm.js","components/AuthPage/AuthPage.js","components/AuthFormInput/AuthFormInput.js","components/Register/Register.js","components/Login/Login.js","components/Menu/Menu.js","components/NotFoundPage/NotFoundPage.js","components/ErrorInfoPopup/ErrorInfoPopup.js","components/App/App.js","index.js"],"names":["windowWidthListener","windowWidthHandler","window","addEventListener","removeEventListener","MAIN_API_BASE_URL","MOVIES_API_BASE_URL","USER_NAME_REGEXP","moviesFilter","options","this","_baseURL","baseURL","moviesList","map","movie","_id","country","director","duration","year","description","image","url","trailer","trailerLink","thumbnail","formats","movieId","id","nameRU","nameEN","owner","searchQuery","isShort","include","keyWords","toLowerCase","split","filter","key","filteredMoviesList","word","includes","push","moviesUploader","foundMoviesList","uploadedMoviesList","currentWindowWidth","cardsNum","length","slice","pointer","errorHandler","error","errorMessage","name","status","authApi","res","ok","json","Promise","reject","email","password","fetch","method","headers","body","JSON","stringify","then","_checkResponse","credentials","userApi","moviesApi","_mainBaseURL","mainBaseURL","_moviesBaseURL","moviesBaseURL","CurrentUserContext","React","createContext","IsLoggedInContext","ProtectedRoute","props","isLoggedIn","useContext","path","children","to","defaultPath","Logo","className","src","websiteLogo","alt","Navigation","currentUser","location","activeClassName","avatar","defaultStudentAvatar","exact","MenuButton","onClick","onMenuOpen","Header","NavTab","addClasses","Promo","SectionHeader","PlanGrid","AboutProject","Techs","href","target","rel","Portfolio","portfolio","app","i","link","StudentCard","bio","accounts","account","AboutMe","Main","Footer","currentYear","Date","getFullYear","FilterCheckbox","type","isChecked","htmlFor","onCheck","SearchForm","useState","setSearchQuery","isFormValid","setIsFormValid","isShortMovie","setIsShortMovie","placeholder","autoComplete","spellCheck","required","value","onChange","evt","preventDefault","page","onMoviesSearch","console","log","disabled","Preloader","MoviesCard","addButtonClass","isSaved","onDelete","onSave","MoviesCardList","isMoviesLoading","uploadedMovie","savedMovie","savedMoviesList","find","onMovieSave","onMovieDelete","isFiltered","MoviesUploader","onButtonClick","Movies","isSearchButtonClicked","onUploaderClick","SavedMovies","setFilteredMoviesList","setIsFiltered","filteredMovies","searchFilter","ProfileForm","isSpanVisible","spanText","isDataLoading","onSubmit","ProfileFormInput","labelText","minLength","maxLength","Profile","userName","setUserName","userEmail","setUserEmail","isValidUserName","setIsValidUserName","isValidUserEmail","setIsValidUserEmail","setSpanText","userNameSpanText","setUserNameSpanText","userEmailSpanText","setUserEmailSpanText","useEffect","onUserUpdate","isLoading","valid","validity","Validator","matches","isEmail","logoutLink","onLogout","AuthForm","submitButtonText","AuthPage","pageTitle","redirectText","redirectLink","redirectLinkText","AuthFormInput","Register","userPassword","setUserPassword","isValidUserPassword","setIsValidUserPassword","userPasswordSpanText","setUserPasswordSpanText","onRegister","Login","onLogin","Menu","isOpen","NotFoundPage","useHistory","goBack","ErrorInfoPopup","message","App","history","innerWidth","setCurrentWindowWidth","isWindowWidthResizing","setIsWindowWidthResizing","setIsLoading","infoMessage","setInfoMessage","isInfoPopupOpen","setIsInfoPopupOpen","currentUserAvatar","setCurrentUser","setIsLoggedIn","isMenuOpen","setIsMenuOpen","isMoviesSearchButtonClicked","setIsMoviesSearchButtonClicked","setFoundMoviesList","setUploadedMoviesList","setSavedMoviesList","handleWindowWidth","setTimeout","handleAuthorization","parse","localStorage","getItem","handleMovieDelete","deleteMovie","catch","err","handleMenuButtonClick","setListener","getUserCredentials","user","getSavedMovies","movies","removeListener","getUploadedCards","Provider","register","finally","login","removeItem","searchMovies","propertiesFilter","setItem","saveMovie","uploadedMovieCards","uploadCards","concat","updateUserCredentials","logout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wqFAYeA,EAFa,I,2FAT1B,SAAYC,GACVC,OAAOC,iBAAiB,SAAUF,K,4BAGpC,SAAeA,GACbC,OAAOE,oBAAoB,SAAUH,O,cCNnCI,EAAoB,yDACpBC,EAAsB,+BAEtBC,EAAmB,0CCwDVC,EAJM,I,WApDnB,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,Q,oDAG1B,SAAiBC,GACf,OAAOA,EAAWC,KAAI,SAACC,GACrB,MAAO,CACLC,IAAKD,EAAMC,KAAO,KAClBC,QAASF,EAAME,SAAW,aAC1BC,SAAUH,EAAMG,UAAY,cAC5BC,SAAUJ,EAAMI,UAAY,IAC5BC,KAAML,EAAMK,MAAQ,UACpBC,YAAaN,EAAMM,aAAe,iBAClCC,MAAOhB,EAAsBS,EAAMO,MAAMC,KAAO,GAChDC,QAAST,EAAMU,aAAe,uBAC9BC,UAAWpB,EAAsBS,EAAMO,MAAMK,QAAQD,UAAUH,KAAO,GACtEK,QAASb,EAAMc,IAAM,IACrBC,OAAQf,EAAMe,QAAU,YACxBC,OAAQhB,EAAMgB,QAAU,WACxBC,MAAOjB,EAAMiB,OAAS,W,0BAK5B,SAAanB,EAAYoB,EAAaC,GACpC,IAIIC,EALyC,EACvCC,EAAWH,EAAYI,cAAcC,MAAM,KAAKC,QAAO,SAACC,GAAD,QAAWA,KAElEC,EAAqB,GAHkB,cAO3B5B,GAP2B,IAO7C,2BAA8B,CAAC,IAAtBE,EAAqB,QAC5B,KAAImB,GAAWnB,EAAMI,SAAW,IAAhC,CAEAgB,GAAU,EAHkB,oBAKXC,GALW,IAK5B,2BAA2B,CAAC,IAAnBM,EAAkB,QACzB,KAAM3B,EAAMe,QAAU,IAAIO,cAAcC,MAAM,KAAKK,SAASD,MACpD3B,EAAMgB,QAAU,IAAIM,cAAcC,MAAM,KAAKK,SAASD,GAAO,CACjEP,GAAU,EACV,QATsB,8BAcxBA,GAASM,EAAmBG,KAAK7B,KArBM,8BAwB7C,OAAO0B,M,KAIU,CAAiB,CACpCnC,wBC9BauC,EAFQ,I,gGAvBrB,SAAiBC,EAAiBC,EAAoBC,GACpD,IAAIC,EAAW,GAKf,OAHID,GAAsB,IAAKC,EAAW,EACjCD,GAAsB,MAAKC,EAAW,GAE3CF,EAAmBG,QAAUD,EAAkBF,EAC5CD,EAAgBK,MAAM,EAAGF,K,yBAGlC,SAAYH,EAAiBC,EAAoBC,GAC/C,IAAMI,EAAUL,EAAmBG,OAE/BD,EAAW,EAMf,OALID,GAAsB,MAAKC,EAAW,GAEtCG,EAAUH,EAAWH,EAAgBI,SACvCD,EAAWG,EAAUH,EAAWH,EAAgBI,OAAS,GAEpDJ,EAAgBK,MAAMC,EAASA,EAAUH,O,MCbrCI,MAPf,SAAsBC,EAAOC,GAI3B,MAHmB,cAAfD,EAAME,OAAsBD,EAAe,wMAC1B,MAAjBD,EAAMG,SAAgBF,EAAe,sGAEnC,yCAAN,OAAmBA,IC+CNG,EAJC,I,WA5Cd,WAAYjD,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,Q,kDAG1B,SAAe+C,GACb,OAAIA,EAAIC,GAAWD,EAAIE,OAChBC,QAAQC,OAAOJ,K,sBAGxB,YAAqC,IAA1BK,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,SAAUT,EAAQ,EAARA,KAC1B,OAAOU,MAAM,GAAD,OAAKxD,KAAKC,SAAV,WAA8B,CACxCwD,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEP,QAAOC,WAAUT,WAEzCgB,KAAK9D,KAAK+D,kB,mBAGb,YAA4B,IAApBT,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACb,OAAOC,MAAM,GAAD,OAAKxD,KAAKC,SAAV,WAA8B,CACxCwD,OAAQ,OACRO,YAAa,UACbN,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEP,QAAOC,eAE/BO,KAAK9D,KAAK+D,kB,oBAGb,WACE,OAAOP,MAAM,GAAD,OAAKxD,KAAKC,SAAV,YAA+B,CACzCwD,OAAQ,OACRO,YAAa,UACbN,QAAS,CACP,eAAgB,sBAGnBI,KAAK9D,KAAK+D,oB,KAIC,CAAY,CAC1B7D,QAASP,ICRIsE,EAJC,I,WAjCd,WAAYlE,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,Q,kDAG1B,SAAe+C,GACb,OAAIA,EAAIC,GAAWD,EAAIE,OAChBC,QAAQC,OAAOJ,K,gCAGxB,WACE,OAAOO,MAAM,GAAD,OAAKxD,KAAKC,SAAV,aAAgC,CAC1CwD,OAAQ,MACRO,YAAa,UACbN,QAAS,CACP,eAAgB,sBAGnBI,KAAK9D,KAAK+D,kB,mCAGb,YAAwC,IAAhBT,EAAe,EAAfA,MAAOR,EAAQ,EAARA,KAC7B,OAAOU,MAAM,GAAD,OAAKxD,KAAKC,SAAV,aAAgC,CAC1CwD,OAAQ,QACRO,YAAa,UACbN,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEP,QAAOR,WAE/BgB,KAAK9D,KAAK+D,oB,KAIC,CAAY,CAC1B7D,QAASP,IC4BIuE,EALG,I,WAzDhB,WAAYnE,GAAU,oBACpBC,KAAKmE,aAAepE,EAAQqE,YAC5BpE,KAAKqE,eAAiBtE,EAAQuE,c,kDAGhC,SAAerB,GACb,OAAIA,EAAIC,GAAWD,EAAIE,OAChBC,QAAQC,OAAOJ,K,0BAGxB,WACE,OAAOO,MAAM,GAAD,OAAKxD,KAAKqE,eAAV,oBAA6C,CACvDZ,OAAQ,MACRC,QAAS,CACP,eAAgB,sBAGnBI,KAAK9D,KAAK+D,kB,4BAGb,WACE,OAAOP,MAAM,GAAD,OAAKxD,KAAKmE,aAAV,WAAkC,CAC5CV,OAAQ,MACRO,YAAa,UACbN,QAAS,CACP,eAAgB,sBAGnBI,KAAK9D,KAAK+D,kB,uBAGb,YAAmH,IAAvGxD,EAAsG,EAAtGA,QAASC,EAA6F,EAA7FA,SAAUC,EAAmF,EAAnFA,SAAUC,EAAyE,EAAzEA,KAAMC,EAAmE,EAAnEA,YAAaC,EAAsD,EAAtDA,MAAOE,EAA+C,EAA/CA,QAASE,EAAsC,EAAtCA,UAAWE,EAA2B,EAA3BA,QAASE,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,OACtG,OAAOmC,MAAM,GAAD,OAAKxD,KAAKmE,aAAV,WAAkC,CAC5CV,OAAQ,OACRO,YAAa,UACbN,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBtD,UAASC,WAAUC,WAAUC,OAAMC,cAAaC,QAAOE,UAASE,YAAWE,UAASE,SAAQC,aAG/FyC,KAAK9D,KAAK+D,kB,yBAGb,SAAY7C,GACV,OAAOsC,MAAM,GAAD,OAAKxD,KAAKmE,aAAV,mBAAmCjD,GAAY,CACzDuC,OAAQ,SACRO,YAAa,UACbN,QAAS,CACP,eAAgB,sBAGnBI,KAAK9D,KAAK+D,oB,KAIG,CAAc,CAC9BK,YAAazE,EACb2E,cAAe1E,IC1DF2E,EAFYC,IAAMC,gBCElBC,EAFWF,IAAMC,gBCFjB,MAA0B,gD,OCe1BE,MAVf,SAAwBC,GACtB,IAAMC,EAAaL,IAAMM,WAAWJ,GAEpC,OACE,cAAC,IAAD,CAAOK,KAAOH,EAAMG,KAApB,SACIF,EAAaD,EAAMI,SAAW,cAAC,IAAD,CAAUC,GAAKL,EAAMM,iBCV5C,MAA0B,yC,MCc1BC,MARf,WACE,OACE,cAAC,IAAD,CAAMF,GAAG,IAAT,SACE,qBAAKG,UAAU,OAAOC,IAAMC,EAAcC,IAAI,iFCTrC,MAA0B,mD,4DCmH1BC,MAlGf,SAAoBZ,GAClB,IAAMa,EAAcjB,IAAMM,WAAWP,GAErC,OACE,sBAAKa,UAAY,eAAiBR,EAAMc,SAAN,8BAAwCd,EAAMc,UAAa,IAA7F,UACuB,UAAnBd,EAAMc,UAEJ,qCACE,cAAC,IAAD,CACEN,UAAU,kDACVH,GAAG,UAFL,gFAMA,cAAC,IAAD,CACEG,UAAU,+CACVH,GAAG,UAFL,+CASe,SAAnBL,EAAMc,UAEJ,qCACE,cAAC,IAAD,CACEN,UAAU,mBACVO,gBAAgB,0BAChBV,GAAG,UAHL,kDAOA,cAAC,IAAD,CACEG,UAAU,mBACVO,gBAAgB,0BAChBV,GAAG,gBAHL,qHAOA,eAAC,IAAD,CACEG,UAAU,iDACVO,gBAAgB,0BAChBV,GAAG,WAHL,uDAME,qBACEG,UAAU,6BACVC,IAAMI,EAAYG,QAAUC,EAC5BN,IAAI,gGAMO,SAAnBX,EAAMc,UAEJ,qCACE,cAAC,IAAD,CACEI,OAAK,EACLV,UAAU,mBACVO,gBAAgB,0BAChBV,GAAG,IAJL,wDAQA,cAAC,IAAD,CACEG,UAAU,mBACVO,gBAAgB,0BAChBV,GAAG,UAHL,kDAOA,cAAC,IAAD,CACEG,UAAU,mBACVO,gBAAgB,0BAChBV,GAAG,gBAHL,qHAOA,eAAC,IAAD,CACEG,UAAU,iDACVO,gBAAgB,0BAChBV,GAAG,WAHL,uDAME,qBACEG,UAAU,6BACVC,IAAMI,EAAYG,QAAUC,EAC5BN,IAAI,oG,wBC5FLQ,MATf,SAAoBnB,GAClB,OACE,wBACEQ,UAAY,gBAAkBR,EAAMc,SAAN,+BAAyCd,EAAMc,UAAa,IAC1FM,QAAUpB,EAAMqB,c,MCOPC,MAVf,SAAgBtB,GACd,OACE,yBAAQQ,UAAU,SAAlB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAYM,SAAWd,EAAMc,WAC7B,cAAC,EAAD,CAAYA,SAAWd,EAAMc,SAAWO,WAAarB,EAAMqB,iB,oBCIlDE,MAVf,SAAgBvB,GACd,OACE,sBAAKQ,UAAY,WAAaR,EAAMwB,WAApC,UACE,cAAC,IAAD,CAAUhB,UAAU,gBAAgBH,GAAG,kBAAvC,+DACA,cAAC,IAAD,CAAUG,UAAU,gBAAgBH,GAAG,UAAvC,0EACA,cAAC,IAAD,CAAUG,UAAU,gBAAgBH,GAAG,aAAvC,4D,wBCQSoB,MAXf,WACE,OACE,yBAASjB,UAAU,QAAnB,SACE,sBAAKA,UAAU,gBAAf,UACE,oBAAIA,UAAU,eAAd,iSACA,cAAC,EAAD,CAAQgB,WAAW,yB,MCJZE,MANf,SAAuB1B,GACrB,OACE,oBAAIQ,UAAY,mBAAqBR,EAAMwB,YAAc,IAAzD,SAAiExB,EAAMI,Y,sDCqB5DuB,MAff,SAAkB3B,GAChB,OACE,sBAAKQ,UAAY,aAAeR,EAAMwB,WAAtC,UACE,qBAAKhB,UAAU,0DAAf,SACE,mBAAGA,UAAU,8CAAb,sDAEF,qBAAKA,UAAU,yDAAf,SACE,mBAAGA,UAAU,8CAAb,sDAEF,mBAAGA,UAAU,gDAAb,sBACA,mBAAGA,UAAU,+CAAb,2B,oCCyBSoB,MAnCf,WACE,OACE,0BAASpB,UAAU,gBAAgBjE,GAAG,gBAAtC,UACE,cAAC,EAAD,gEACA,sBAAKiE,UAAU,gCAAf,UACE,sBAAKA,UAAU,yBAAf,UACE,mBAAGA,UAAU,+BAAb,2LAGA,mBAAGA,UAAU,8BAAb,6hBAIF,sBAAKA,UAAU,yBAAf,UACE,mBAAGA,UAAU,+BAAb,kMAGA,mBAAGA,UAAU,8BAAb,0hBAIF,sBAAKA,UAAU,yBAAf,UACE,mBAAGA,UAAU,+BAAb,kMAGA,mBAAGA,UAAU,8BAAb,6hBAKJ,cAAC,EAAD,CAAUgB,WAAW,iC,+BCoDZK,MApFf,WACE,OACE,0BAASrB,UAAU,QAAQjE,GAAG,QAA9B,UACE,cAAC,EAAD,2EACA,mBAAGiE,UAAU,eAAb,4EACA,mBAAGA,UAAU,qBAAb,2cAGA,qBAAIA,UAAU,mBAAd,UACE,6BACE,mBACEA,UAAU,cACVsB,KAAK,kDACLC,OAAO,SACPC,IAAI,aAJN,oBASF,6BACE,mBACExB,UAAU,cACVsB,KAAK,iDACLC,OAAO,SACPC,IAAI,aAJN,mBASF,6BACE,mBACExB,UAAU,cACVsB,KAAK,wDACLC,OAAO,SACPC,IAAI,aAJN,kBASF,6BACE,mBACExB,UAAU,cACVsB,KAAK,uBACLC,OAAO,SACPC,IAAI,aAJN,qBASF,6BACE,mBACExB,UAAU,cACVsB,KAAK,uBACLC,OAAO,SACPC,IAAI,aAJN,mBASF,6BACE,mBACExB,UAAU,cACVsB,KAAK,yBACLC,OAAO,SACPC,IAAI,aAJN,0BASF,6BACE,mBACExB,UAAU,cACVsB,KAAK,2BACLC,OAAO,SACPC,IAAI,aAJN,8B,mCCxCKC,MA5Bf,SAAmBjC,GACjB,IAAMa,EAAcjB,IAAMM,WAAWP,GAErC,OACmC,IAAjCkB,EAAYqB,UAAUtE,QACpB,0BAAS4C,UAAY,cAAgBR,EAAMwB,YAAc,IAAzD,UACE,oBAAIhB,UAAU,mBAAd,oEAEEK,EAAYqB,UAAU1G,KAAI,SAAC2G,EAAKC,GAC9B,OACE,qBAAK5B,UAAU,4BAAf,SACE,oBACEA,UAAU,kBACVsB,KAAOK,EAAIE,KACXN,OAAO,SACPC,IAAI,aAJN,UAME,mBAAGxB,UAAU,uBAAb,SAAsC2B,EAAIjE,OAC1C,mBAAGsC,UAAU,uBAAb,wBAR6C4B,U,wDC4BhDE,MAlCf,SAAqBtC,GACnB,IAAMa,EAAcjB,IAAMM,WAAWP,GAErC,OACE,0BAASa,UAAY,iBAAmBR,EAAMwB,YAAc,IAA5D,UACE,sBAAKhB,UAAU,+BAAf,UACIK,EAAY3C,MAAQ,mBAAGsC,UAAU,qBAAb,SAAoCK,EAAY3C,OACpE2C,EAAY0B,KAAO,mBAAG/B,UAAU,oBAAb,SAAmCK,EAAY0B,MAClE1B,EAAY9E,aAAe,mBAAGyE,UAAU,4BAAb,SAA2CK,EAAY9E,cAClD,IAAhC8E,EAAY2B,SAAS5E,QACrB,oBAAI4C,UAAU,0BAAd,SAEIK,EAAY2B,SAAShH,KAAI,SAACiH,EAASL,GACjC,OACE,6BACE,mBAAG5B,UAAU,qBAAqBsB,KAAOW,EAAQJ,KAAON,OAAO,SAASC,IAAI,aAA5E,SACIS,EAAQvE,QAFJkE,WAWtB,qBACE5B,UAAU,uBACVC,IAAMI,EAAYG,QAAUC,EAC5BN,IAAI,8F,4BCvBG+B,MAVf,WACE,OACE,0BAASlC,UAAU,WAAWjE,GAAG,WAAjC,UACE,cAAC,EAAD,CAAeiF,WAAW,2BAA1B,wDACA,cAAC,EAAD,CAAaA,WAAW,2BACxB,cAAC,EAAD,CAAWA,WAAW,4B,OCIbmB,MAXf,WACE,OACE,uBAAMnC,UAAU,OAAhB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,Q,0CC6BSoC,MAhCf,WACE,IAAM/B,EAAcjB,IAAMM,WAAWP,GAC/BkD,GAAc,IAAIC,MAAOC,cAE/B,OACE,yBAAQvC,UAAU,SAAlB,UACE,mBAAGA,UAAU,sBAAb,0MACA,sBAAKA,UAAU,oBAAf,UACE,oBAAGA,UAAU,oBAAb,kBAAqCqC,KACrC,qBAAIrC,UAAU,oBAAd,UACE,6BACE,mBAAGA,UAAU,eAAesB,KAAK,+BAA+BC,OAAO,SAASC,IAAI,aAApF,2GAKAnB,EAAY2B,SAAShH,KAAI,SAACiH,EAASL,GACjC,OACE,6BACE,mBAAG5B,UAAU,eAAesB,KAAOW,EAAQJ,KAAON,OAAO,SAASC,IAAI,aAAtE,SACIS,EAAQvE,QAFJkE,gB,4BCNXY,MAff,SAAwBhD,GACtB,OACE,sBAAKQ,UAAY,oBAAsBR,EAAMwB,YAAc,IAA3D,UACE,uBAAOhB,UAAU,yBAAyBjE,GAAG,iBAAiB0G,KAAK,aACnE,uBACEzC,UAAY,2BAA6BR,EAAMkD,UAAY,iCAAmC,IAC9FC,QAAQ,yBACR/B,QAAUpB,EAAMoD,QAHlB,4G,4BCoDSC,MAtDf,SAAoBrD,GAClB,MAAwCJ,IAAM0D,SAAS,IAAvD,mBAAQ3G,EAAR,KAAqB4G,EAArB,KACA,EAAwC3D,IAAM0D,UAAS,GAAvD,mBAAQE,EAAR,KAAqBC,EAArB,KAEA,EAA0C7D,IAAM0D,UAAS,GAAzD,mBAAQI,EAAR,KAAsBC,EAAtB,KAsBA,OACE,uBAAMnD,UAAU,cAAhB,UACE,uBACEA,UAAU,qBACVoD,YAAY,sEACZC,aAAa,MACbC,WAAW,QACXC,UAAQ,EACRd,KAAK,OACLe,MAAQrH,EACRsH,SA9BN,SAA+BC,GAC7B,IAAQF,EAAUE,EAAInC,OAAdiC,MAERT,EAAeS,GACfP,EAAgC,IAAjBO,EAAMpG,WA4BnB,wBACE4C,UAAU,6BACVY,QAvBN,SAAsB8C,GACpBA,EAAIC,iBAEAX,GAA8B,iBAAfxD,EAAMoE,KACvBpE,EAAMqE,eAAe1H,EAAa+G,GAE/BY,QAAQC,IAAI,wJAkBbC,SAAWxE,EAAMwE,SAHnB,4CAOA,cAAC,EAAD,CACEhD,WAAW,+BACX4B,QAlCN,WACEO,GAAiBD,IAkCbR,UAAYQ,Q,qBC3CLe,MAVf,WACE,OACE,qBAAKjE,UAAU,YAAf,SACE,qBAAKA,UAAU,uBAAf,SACI,sBAAMA,UAAU,0B,+DC0CXkE,MAtCf,SAAoB1E,GAKlB,IAAI2E,EAAiB,GAKrB,MAHmB,WAAf3E,EAAMoE,MAAqBpE,EAAM4E,QAASD,EAAiB,qCACvC,iBAAf3E,EAAMoE,MAA2BpE,EAAM4E,UAASD,EAAgB,sCAGvE,sBAAKnE,UAAU,aAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,mBAAGA,UAAU,sBAAb,SAAqCR,EAAMvE,MAAMe,QAAUwD,EAAMvE,MAAMgB,SACvE,mBAAG+D,UAAU,4BAAb,SAA2CR,EAAMvE,MAAMI,SAAW,+CAEpE,mBACE2E,UAAU,mBACVsB,KAAO9B,EAAMvE,MAAMS,QACnB6F,OAAO,SACPC,IAAI,aAJN,SAME,qBACExB,UAAU,wBACVC,IAAMT,EAAMvE,MAAMO,MAClB2E,IAAI,gFAGR,wBACEH,UAAY,0BAA4BmE,EACxCvD,QA7BN,WACEpB,EAAM4E,QAAU5E,EAAM6E,SAAS7E,EAAMvE,MAAMC,KAAOsE,EAAM8E,OAAO9E,EAAMvE,QA0BnE,SAIIuE,EAAM4E,QAAU,GAAK,+D,cCgChBG,MAtEf,SAAwB/E,GAEtB,OACE,0BAASQ,UAAY,qBAAuBR,EAAMwB,YAAc,IAAhE,UAEmB,WAAfxB,EAAMoE,OACJpE,EAAMgF,gBACJ,cAAC,EAAD,IAEAhF,EAAMvC,mBAAmBG,OACvBoC,EAAMvC,mBAAmBjC,KAAI,SAACyJ,GAC5B,IAAMC,EAAalF,EAAMmF,gBAAgBC,MAAK,SAACF,GAC7C,OAAOA,EAAW5I,UAAY2I,EAAc3I,WAGxCb,EAAQyJ,GAAcD,EAE5B,OACE,cAAC,EAAD,CAEEb,KAAK,SACL3I,MAAQA,EACRmJ,UAAYM,EACZJ,OAAS9E,EAAMqF,YACfR,SAAW7E,EAAMsF,eALX7J,EAAMa,YAUlB,mBAAGkE,UAAU,yBAAb,2GAIS,iBAAfR,EAAMoE,OACJpE,EAAMgF,gBACJ,cAAC,EAAD,IAEAhF,EAAMuF,WACJvF,EAAM7C,mBAAmBS,OACvBoC,EAAM7C,mBAAmB3B,KAAI,SAACC,GAC5B,OACE,cAAC,EAAD,CAEE2I,KAAK,eACL3I,MAAQA,EACRmJ,SAAU,EACVC,SAAW7E,EAAMsF,eAJX7J,EAAMa,YASlB,mBAAGkE,UAAU,yBAAb,0GAEFR,EAAMmF,gBAAgB3J,KAAI,SAACC,GACzB,OACE,cAAC,EAAD,CAEE2I,KAAK,eACL3I,MAAQA,EACRmJ,SAAU,EACVC,SAAW7E,EAAMsF,eAJX7J,EAAMa,iB,cC9CjBkJ,MAbf,SAAwBxF,GACtB,OACE,qBAAKQ,UAAU,kBAAf,SACE,wBACEA,UAAU,0BACVY,QAAUpB,EAAMyF,cAFlB,mC,OC6BSC,MA7Bf,SAAgB1F,GACd,OACE,uBAAMQ,UAAU,SAAhB,UACE,cAAC,EAAD,CACE4D,KAAK,SACLC,eAAiBrE,EAAMqE,eACvBG,SAAWxE,EAAMgF,mBAIhBhF,EAAMvC,mBAAmBG,QAAUoC,EAAM2F,wBAA0B,cAAC,EAAD,CAClEvB,KAAK,SACL5G,gBAAkBwC,EAAMxC,gBACxBC,mBAAqBuC,EAAMvC,mBAC3B0H,gBAAkBnF,EAAMmF,gBACxBH,gBAAkBhF,EAAMgF,gBACxBK,YAAcrF,EAAMqF,YACpBC,cAAgBtF,EAAMsF,gBAIxBtF,EAAMvC,mBAAmBG,SAAWoC,EAAMxC,gBAAgBI,QAAU,cAAC,EAAD,CAClE6H,cAAgBzF,EAAM4F,sB,cCgBjBC,OAlCf,SAAqB7F,GACnB,MAAsDJ,IAAM0D,SAAS,IAArE,mBAAQnG,EAAR,KAA4B2I,EAA5B,KACA,EAAsClG,IAAM0D,UAAS,GAArD,mBAAQiC,EAAR,KAAoBQ,EAApB,KAYA,OACE,uBAAMvF,UAAU,eAAhB,UACE,cAAC,EAAD,CACE4D,KAAK,eACLC,eAdN,SAAiC1H,EAAaC,GAC5C,GAAID,EAAa,CACf,IAAMqJ,EAAiB9K,EAAa+K,aAAajG,EAAMmF,gBAAiBxI,EAAaC,GAErFkJ,EAAsBE,GACtBD,GAAc,QAEXA,GAAc,MAUf/F,EAAMmF,gBAAgBvH,QAAU,cAAC,EAAD,CAC9B4D,WAAW,iCACX4C,KAAK,eACLe,gBAAkBnF,EAAMmF,gBACxBhI,mBAAqBA,EACrBoI,WAAaA,EACbD,cAAgBtF,EAAMsF,oB,uDCTjBY,OApBf,SAAqBlG,GACnB,OACE,uBAAMQ,UAAY,iBAAmBR,EAAMwB,YAAc,IAAzD,UACIxB,EAAMI,SACR,sBACEI,UAAY,6BAA+BR,EAAMmG,cAAgB,mCAAqC,IADxG,SAGInG,EAAMoG,WAEV,wBACE5F,UAAY,gCAAkCR,EAAMwD,cAAgBxD,EAAMqG,cAAgB,GAAK,wCAC/FjF,QAAUpB,EAAMsG,SAChB9B,UAAYxE,EAAMwD,aAAexD,EAAMqG,cAHzC,SAKIrG,EAAMqG,cAAgB,kEAAkB,uF,qBCCnCE,OAnBf,SAA0BvG,GACxB,OACE,wBAAOQ,UAAY,8BAAgCR,EAAMwB,YAAc,IAAvE,UACIxB,EAAMwG,UACR,uBACEhG,UAAU,sBACViG,UAAYzG,EAAMyG,UAClBC,UAAY1G,EAAM0G,UAClB9C,YAAc5D,EAAM4D,YACpBC,aAAa,MACbC,WAAW,QACXb,KAAOjD,EAAMiD,KACbe,MAAQhE,EAAMgE,MACdC,SAAWjE,EAAMiE,e,mCC6GV0C,OA7Gf,SAAiB3G,GACf,IAAMa,EAAcjB,IAAMM,WAAWP,GAErC,EAAkCC,IAAM0D,SAAS,IAAjD,mBAAQsD,EAAR,KAAkBC,EAAlB,KACA,EAAoCjH,IAAM0D,SAAS,IAAnD,mBAAQwD,EAAR,KAAmBC,EAAnB,KAEA,EAAgDnH,IAAM0D,UAAS,GAA/D,mBAAQ0D,EAAR,KAAyBC,EAAzB,KACA,EAAkDrH,IAAM0D,UAAS,GAAjE,mBAAQ4D,EAAR,KAA0BC,EAA1B,KAEA,EAAkCvH,IAAM0D,SAAS,IAAjD,mBAAQ8C,EAAR,KAAkBgB,EAAlB,KACA,EAAkDxH,IAAM0D,SAAS,IAAjE,mBAAQ+D,EAAR,KAA0BC,EAA1B,KACA,EAAoD1H,IAAM0D,SAAS,IAAnE,mBAAQiE,EAAR,KAA2BC,EAA3B,KAEA,EAAwC5H,IAAM0D,UAAS,GAAvD,mBAAQE,EAAR,KAAqBC,EAArB,KAsDA,OApDA7D,IAAM6H,WAAU,WAEThE,KADCmD,IAAaE,IAAeE,IAAoBE,IAKjDE,EAFAJ,EACKE,EACO,GADuBK,EADNF,KAIjC,CAAET,EAAUE,EAAWE,EAAiBE,EAAkBG,EAAkBE,IA6C7E,yBAAS/G,UAAU,UAAnB,SACE,sBAAKA,UAAU,0BAAf,UACE,oBAAIA,UAAU,iBAAd,yDAA6CK,EAAY3C,QACzD,eAAC,GAAD,CACEsD,WAAW,gBACX8E,SAjBR,SAAsBpC,GACpBA,EAAIC,iBAEJnE,EAAM0H,aAAa,CACjBhJ,MAAOoI,GAAajG,EAAYnC,MAChCR,KAAM0I,GAAY/F,EAAY3C,OAGhCuF,GAAe,IAUTD,YAAcA,EACd6C,cAAgBrG,EAAM2H,UACtBvB,SAAWA,EACXD,eAAiBa,IAAoBE,EANvC,UAQE,cAAC,GAAD,CACET,UAAU,IACVC,UAAU,KACV9C,YAAY,+FACZ4C,UAAU,qBACVvD,KAAK,OACLe,MAAQ4C,EACR3C,SA7DV,SAA6BC,GAC3B,MAAuCA,EAAInC,OAAnCiC,EAAR,EAAQA,MAAmB4D,EAA3B,EAAeC,SAAYD,MAE3Bf,EAAY7C,GACZiD,EAAoBa,KAAUC,QAAQ/D,EAAO/I,IAAqB2M,GAAU5D,IAAUnD,EAAY3C,OAAW8F,GAExG8D,KAAUC,QAAQ/D,EAAO/I,GAGrB+I,IAAUnD,EAAY3C,KAC7BoJ,EAAoB,sLAEZM,GACRN,EAAoB,+MANpBA,EAAoB,uQAwDhB,cAAC,GAAD,CACE9F,WAAW,iCACXoC,YAAY,mFACZ4C,UAAU,SACVvD,KAAK,QACLe,MAAQ8C,EACR7C,SApDV,SAA8BC,GAC5B,IAAQF,EAAUE,EAAInC,OAAdiC,MAER+C,EAAa/C,GACbmD,EAAqBW,KAAUE,QAAQhE,IAAWA,IAAUnD,EAAYnC,QAAYsF,GAEhFA,IAAUnD,EAAYnC,MACxB8I,EAAqB,0KAEbM,KAAUE,QAAQhE,IAC1BwD,EAAqB,8HA6CnB,cAAC,IAAD,CACEhH,UAAU,uBACVH,GAAKL,EAAMiI,WACX7G,QAAUpB,EAAMkI,SAHlB,gH,qBC/FOC,OAff,SAAkBnI,GAChB,OACI,uBAAMQ,UAAY,cAAgBR,EAAMwB,YAAc,IAAtD,UACIxB,EAAMI,SACR,wBACEI,UAAY,6BAA+BR,EAAMwD,cAAgBxD,EAAMqG,cAAgB,GAAK,qCAC5FjF,QAAUpB,EAAMsG,SAChB9B,UAAYxE,EAAMwD,aAAexD,EAAMqG,cAHzC,SAKIrG,EAAMqG,cAAgB,kEAAkBrG,EAAMoI,uB,0CC4B3CC,OA7Bf,SAAkBrI,GAChB,OACE,yBAASQ,UAAU,YAAnB,SACE,sBAAKA,UAAU,4BAAf,UACE,cAAC,EAAD,IACA,oBAAIA,UAAU,mBAAd,SAAmCR,EAAMsI,YACzC,cAAC,GAAD,CACE9G,WAAW,kBACX4G,iBAAmBpI,EAAMoI,iBACzB9B,SAAWtG,EAAMsG,SACjB9C,YAAcxD,EAAMwD,YACpB6C,cAAgBrG,EAAM2H,UALxB,SAOI3H,EAAMI,WAEV,oBAAGI,UAAU,2BAAb,UACIR,EAAMuI,aACR,cAAC,IAAD,CACE/H,UAAU,2BACVH,GAAKL,EAAMwI,aAFb,SAIIxI,EAAMyI,4B,4BCDLC,OA3Bf,SAAuB1I,GACrB,OACE,qCACE,wBAAOQ,UAAU,yBAAjB,UACIR,EAAMwG,UACR,uBACEhG,UAAU,mBACViG,UAAYzG,EAAMyG,UAClBC,UAAY1G,EAAM0G,UAClB9C,YAAc5D,EAAM4D,YACpBC,aAAa,MACbC,WAAW,QACXC,UAAQ,EACRd,KAAOjD,EAAMiD,KACbe,MAAQhE,EAAMgE,MACdC,SAAWjE,EAAMiE,cAGrB,sBACEzD,UAAY,0BAA4BR,EAAMmG,cAAgB,gCAAkC,IADlG,SAGInG,EAAMoG,eC0FDuC,OA5Gf,SAAkB3I,GAChB,MAAkCJ,IAAM0D,SAAS,IAAjD,mBAAQsD,EAAR,KAAkBC,EAAlB,KACA,EAAoCjH,IAAM0D,SAAS,IAAnD,mBAAQwD,EAAR,KAAmBC,EAAnB,KACA,EAA0CnH,IAAM0D,SAAS,IAAzD,mBAAQsF,EAAR,KAAsBC,EAAtB,KAEA,EAAgDjJ,IAAM0D,UAAS,GAA/D,mBAAQ0D,EAAR,KAAyBC,EAAzB,KACA,EAAkDrH,IAAM0D,UAAS,GAAjE,mBAAQ4D,EAAR,KAA0BC,EAA1B,KACA,EAAwDvH,IAAM0D,UAAS,GAAvE,mBAAQwF,EAAR,KAA6BC,EAA7B,KAEA,EAAkDnJ,IAAM0D,SAAS,IAAjE,mBAAQ+D,EAAR,KAA0BC,EAA1B,KACA,EAAoD1H,IAAM0D,SAAS,IAAnE,mBAAQiE,EAAR,KAA2BC,EAA3B,KACA,EAA0D5H,IAAM0D,SAAS,IAAzE,mBAAQ0F,EAAR,KAA8BC,EAA9B,KAEA,EAAwCrJ,IAAM0D,UAAS,GAAvD,mBAAQE,EAAR,KAAqBC,EAArB,KAkDA,OAhDA7D,IAAM6H,WAAU,WAEThE,KADAuD,GAAoBE,GAAqB4B,MAE7C,CAAE9B,EAAiBE,EAAkB4B,IA8CtC,eAAC,GAAD,CACER,UAAU,+FACVF,iBAAiB,+GACjB9B,SAdJ,SAAsBpC,GACpBA,EAAIC,iBAEJnE,EAAMkJ,WAAW,CACfxK,MAAOoI,EACPnI,SAAUiK,EACV1K,KAAM0I,KASNpD,YAAcA,EACd6C,cAAgBrG,EAAM2H,UACtBY,aAAa,uHACbC,aAAa,UACbC,iBAAiB,iCARnB,UAUE,cAAC,GAAD,CACEhC,UAAU,IACVC,UAAU,KACV9C,YAAY,gEACZ4C,UAAU,qBACVvD,KAAK,OACLe,MAAQ4C,EACR3C,SA7DN,SAA6BC,GAC3B,MAAuCA,EAAInC,OAAnCiC,EAAR,EAAQA,MAAmB4D,EAA3B,EAAeC,SAAYD,MAE3Bf,EAAY7C,GACZiD,EAAmBa,KAAUC,QAAQ/D,EAAO/I,IAAqB2M,GAE5DE,KAAUC,QAAQ/D,EAAO/I,GAGpB+I,EACA4D,GAAON,EAAoB,+MADpBA,EAAoB,gGAFnCA,EAAoB,qQAuDlBlB,SAAWiB,EACXlB,eAAiBa,IAEnB,cAAC,GAAD,CACEpD,YAAY,8KACZ4C,UAAU,SACVvD,KAAK,QACLe,MAAQ8C,EACR7C,SAzDN,SAA8BC,GAC5B,IAAQF,EAAUE,EAAInC,OAAdiC,MAER+C,EAAa/C,GACbmD,EAAoBW,KAAUE,QAAQhE,IAGjCwD,EADAxD,EACqB,uHADO,iGAoD7BoC,SAAWmB,EACXpB,eAAiBe,IAEnB,cAAC,GAAD,CACET,UAAU,IACV7C,YAAY,oGACZ4C,UAAU,uCACVvD,KAAK,WACLe,MAAQ4E,EACR3E,SAzDN,SAAiCC,GAC/B,MAAuCA,EAAInC,OAAnCiC,EAAR,EAAQA,MAAmB4D,EAA3B,EAAeC,SAAYD,MAE3BiB,EAAgB7E,GAChB+E,EAAuBnB,GAGlBqB,EADAjF,EACwB,mOADO,iGAoDhCoC,SAAW4C,EACX7C,eAAiB2C,QCxBVK,OAhFf,SAAenJ,GACb,MAAoCJ,IAAM0D,SAAS,IAAnD,mBAAQwD,EAAR,KAAmBC,EAAnB,KACA,EAA0CnH,IAAM0D,SAAS,IAAzD,mBAAQsF,EAAR,KAAsBC,EAAtB,KAEA,EAAkDjJ,IAAM0D,UAAS,GAAjE,mBAAQ4D,EAAR,KAA0BC,EAA1B,KACA,EAAwDvH,IAAM0D,UAAS,GAAvE,mBAAQwF,EAAR,KAA6BC,EAA7B,KAEA,EAAoDnJ,IAAM0D,SAAS,IAAnE,mBAAQiE,EAAR,KAA2BC,EAA3B,KACA,EAA0D5H,IAAM0D,SAAS,IAAzE,mBAAQ0F,EAAR,KAA8BC,EAA9B,KAEA,EAAwCrJ,IAAM0D,UAAS,GAAvD,mBAAQE,EAAR,KAAqBC,EAArB,KAoCA,OAlCA7D,IAAM6H,WAAU,WAEThE,KADAyD,IAAqB4B,MAEzB,CAAE5B,EAAkB4B,IAgCrB,eAAC,GAAD,CACER,UAAU,iEACVF,iBAAiB,iCACjB9B,SAbJ,SAAsBpC,GACpBA,EAAIC,iBAEJnE,EAAMoJ,QAAQ,CACZ1K,MAAOoI,EACPnI,SAAUiK,KASVpF,YAAcA,EACd6C,cAAgBrG,EAAM2H,UACtBY,aAAa,oIACbC,aAAa,UACbC,iBAAiB,qEARnB,UAUE,cAAC,GAAD,CACE7E,YAAY,8KACZ4C,UAAU,SACVvD,KAAK,QACLe,MAAQ8C,EACR7C,SA7CN,SAA8BC,GAC5B,IAAQF,EAAUE,EAAInC,OAAdiC,MAER+C,EAAa/C,GACbmD,EAAoBW,KAAUE,QAAQhE,IAGjCwD,EADAxD,EACqB,uHADO,iGAwC7BoC,SAAWmB,EACXpB,eAAiBe,IAEnB,cAAC,GAAD,CACET,UAAU,IACV7C,YAAY,kFACZ4C,UAAU,uCACVvD,KAAK,WACLe,MAAQ4E,EACR3E,SA7CN,SAAiCC,GAC/B,MAAuCA,EAAInC,OAAnCiC,EAAR,EAAQA,MAAmB4D,EAA3B,EAAeC,SAAYD,MAE3BiB,EAAgB7E,GAChB+E,EAAuBnB,GAGlBqB,EADAjF,EACwB,mOADO,iGAwChCoC,SAAW4C,EACX7C,eAAiB2C,Q,qBC9DVO,OAXf,SAAcrJ,GACZ,OACE,uBAAOQ,UAAY,SAAWR,EAAMsJ,OAAS,YAAc,IAA3D,SACE,sBAAK9I,UAAU,kBAAf,UACE,cAAC,EAAD,CAAYM,SAAS,OAAOO,WAAarB,EAAMqB,aAC/C,cAAC,EAAD,CAAYP,SAAS,e,4BCKdyI,OAVf,WACE,OACE,0BAAS/I,UAAU,iBAAnB,UACE,oBAAIA,UAAU,wBAAd,iBACA,mBAAGA,UAAU,2BAAb,sHACA,cAAC,IAAD,CAAMA,UAAU,gCAAgCY,QAAUoI,cAAaC,OAAvE,gD,qBCKSC,OAXf,SAAwB1J,GACtB,OACE,qBACEQ,UAAY,qBAAuBR,EAAMsJ,OAAS,2BAA6B,IAC/ElI,QAAUpB,EAAMoB,QAFlB,SAIE,mBAAGZ,UAAU,yBAAb,SAAwCR,EAAM2J,a,cCwVrCC,OAnUf,WACE,IAAMC,EAAUL,cAEhB,EAAsD5J,IAAM0D,SAAS1I,OAAOkP,YAA5E,mBAAQpM,EAAR,KAA4BqM,EAA5B,KACA,EAA4DnK,IAAM0D,UAAS,GAA3E,mBAAQ0G,EAAR,KAA+BC,EAA/B,KACA,EAAoCrK,IAAM0D,UAAS,GAAnD,mBAAQqE,EAAR,KAAmBuC,EAAnB,KACA,EAAwCtK,IAAM0D,SAAS,IAAvD,mBAAQ6G,EAAR,KAAqBC,EAArB,KACA,EAAgDxK,IAAM0D,UAAS,GAA/D,mBAAQ+G,EAAR,KAAyBC,EAAzB,KAEA,EAAwC1K,IAAM0D,SAAS,CACrDpF,KAAM,cACNQ,MAAO,wBACP6D,IAAK,mJACLxG,YAAa,m+BACbiF,OAAQuJ,EACR/H,SAAU,CACR,CAAEtE,KAAM,WAAYmE,KAAM,6BAC1B,CAAEnE,KAAM,SAAUmE,KAAM,mCAE1BH,UAAW,CACT,CAAEhE,KAAM,kFAAkBmE,KAAM,+CAChC,CAAEnE,KAAM,wFAAmBmE,KAAM,iDACjC,CAAEnE,KAAM,oJAA6BmE,KAAM,0DAb/C,mBAAQxB,EAAR,KAAqB2J,EAArB,KAiBA,EAAsC5K,IAAM0D,UAAS,GAArD,mBAAQrD,EAAR,KAAoBwK,EAApB,KAEA,EAAsC7K,IAAM0D,UAAS,GAArD,mBAAQoH,EAAR,KAAoBC,EAApB,KACA,EAAyE/K,IAAM0D,UAAS,GAAxF,oBAAQsH,GAAR,MAAsCC,GAAtC,MAEA,GAAgDjL,IAAM0D,SAAS,IAA/D,qBAAQ9F,GAAR,MAAyBsN,GAAzB,MACA,GAAsDlL,IAAM0D,SAAS,IAArE,qBAAQ7F,GAAR,MAA4BsN,GAA5B,MACA,GAAiDnL,IAAM0D,SAAS,IAAhE,qBAAQ6B,GAAR,MAA0B6F,GAA1B,MA8BA,SAASC,GAAkB/G,GACpB8F,IACHC,GAAyB,GAEzBiB,YAAW,WACTnB,EAAsB7F,EAAInC,OAAO+H,YACjCG,GAAyB,KACxB,MAQP,SAASkB,GAAT,GAA+C,IAAhBzM,EAAe,EAAfA,MAAOR,EAAQ,EAARA,KACpCoG,QAAQC,IAAR,sIAAwC7F,IAExC8L,GAAe,SAAC3J,GAId,OAHAA,EAAY3C,KAAOA,EACnB2C,EAAYnC,MAAQA,EAEbmC,KAGT4J,GAAc,GACdK,GAAmB9L,KAAKoM,MAAMC,aAAaC,QAAQ,YAAc,IAEjEzB,EAAQvM,KAAK,WAuIf,SAASiO,GAAkBjP,GACzBgD,EAAUkM,YAAYlP,GACrB4C,MAAK,kBAAM8L,IAAmB,SAAC7F,GAC5B,OAAOA,EAAgBlI,QAAO,SAACiI,GAAD,OAAgBA,EAAWxJ,MAAQY,WAGpEmP,OAAM,SAACC,GACN,IAAMzN,EAAeF,EAAa2N,EAAK,uJAEvCpB,GAAmB,GACnBF,EAAenM,GACfqG,QAAQC,IAAItG,MAIhB,SAAS0N,KACPhB,GAAeD,GASjB,OAxNA9K,IAAM6H,WAAU,WAWd,OAVA/M,EAAoBkR,YAAYX,IAEhC5L,EAAQwM,qBACP3M,MAAK,SAAC4M,GAAD,OAAUX,GAAoBW,MACnCL,OAAM,SAACC,GAAD,OAASpH,QAAQC,IAAIxG,EAAa2N,EAAK,uIAE9CpM,EAAUyM,iBACT7M,MAAK,SAAC8M,GAAD,OAAYhB,GAAmBgB,MACpCP,OAAM,SAACC,GAAD,OAASpH,QAAQC,IAAIxG,EAAa2N,EAAK,uIAEvC,WACLhR,EAAoBuR,eAAehB,OAIpC,IAEHrL,IAAM6H,WAAU,WACdsD,IAAsB,SAACtN,GACrB,OAAOF,EAAe2O,iBAAiB1O,GAAiBC,EAAoBC,QAE7E,CAAEF,GAAiBE,IAEtBkC,IAAM6H,WAAU,WACV4C,GAAiBa,YAAW,kBAAMZ,GAAmB,KAAQ,OAChE,CAAED,IA+LH,cAAC,EAAmB8B,SAApB,CAA6BnI,MAAQnD,EAArC,SACE,cAAC,EAAkBsL,SAAnB,CAA4BnI,MAAQ/D,EAApC,SACE,qBAAKO,UAAU,MAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAOU,OAAK,EAACf,KAAK,IAAlB,UACE,cAAC,EAAD,CAAQW,SAAS,UACjB,cAAC,EAAD,IACA,cAAC,EAAD,OAEF,cAAC,IAAD,CAAOX,KAAK,UAAZ,SACE,cAAC,GAAD,CACE+I,WA1KhB,SAAwB4C,GACtB5B,GAAa,GAEb9L,EAAQgO,SAASN,GAChB5M,MAAK,WACJ,IAAMyK,EAAU,6aAEhBW,GAAmB,GACnBF,EAAeT,GACfrF,QAAQC,IAAIoF,GAEZE,EAAQvM,KAAK,cAEdmO,OAAM,SAACC,GACN,IAAMzN,EAAeF,EAAa2N,EAAK,kTAEvCpB,GAAmB,GACnBF,EAAenM,GACfqG,QAAQC,IAAItG,MAEboO,SAAQ,kBAAMnC,GAAa,OAuJd7D,cAAgBsB,MAGpB,cAAC,IAAD,CAAOxH,KAAK,UAAZ,SACE,cAAC,GAAD,CACEiJ,QAzJhB,SAAqB0C,GACnB5B,GAAa,GAEb9L,EAAQkO,MAAMR,GACb5M,MAAK,SAAC4M,GACLT,aAAakB,WAAW,UACxBpB,GAAoBW,GAEpBxB,GAAmB,GACnBF,EAAe,+HAAD,OAA6B0B,EAAKpN,WAEjD+M,OAAM,SAACC,GACN,IAAMzN,EAAeF,EAAa2N,EAAK,2IAEvCpB,GAAmB,GACnBF,EAAenM,GACfqG,QAAQC,IAAItG,MAEboO,SAAQ,kBAAMnC,GAAa,OAwId7D,cAAgBsB,MAGpB,eAAC,EAAD,CAAgBxH,KAAK,UAAUG,YAAY,IAA3C,UACE,cAAC,EAAD,CAAQQ,SAAS,OAAOO,WAAasK,KACrC,cAAC,EAAD,CACE3G,gBAAkB2C,EAClBhC,sBAAwBiF,GACxBpN,gBAAkBA,GAClBC,mBAAqBA,GACrB0H,gBAAkBA,GAClBd,eA1FhB,SAA4B1H,EAAaC,GACvCsN,GAAa,GAEb5K,EAAUkN,eACTtN,MAAK,SAAC3D,GACL,IAAM4B,EAAqBjC,EAAauR,iBAAiBvR,EAAa+K,aAAa1K,EAAYoB,EAAaC,IAE5GkO,GAAmB3N,GACnB0N,IAA+B,GAE/BQ,aAAaqB,QAAQ,SAAU1N,KAAKC,UAAU9B,OAE/CsO,OAAM,SAACC,GACN,IAAMzN,EAAeF,EAAa2N,EAAK,sqBAEvCpB,GAAmB,GACnBF,EAAenM,GACfqG,QAAQC,IAAItG,MAEboO,SAAQ,kBAAMnC,GAAa,OAwEd7E,YArEhB,SAAyB5J,GACvB6D,EAAUqN,UAAUlR,GACnByD,MAAK,SAACzD,GAAD,OAAWuP,GAAmB,CAAEvP,GAAH,mBAAa0J,SAC/CsG,OAAM,SAACC,GACN,IAAMzN,EAAeF,EAAa2N,EAAK,6TAEvCpB,GAAmB,GACnBF,EAAenM,GACfqG,QAAQC,IAAItG,OA8DAqH,cAAgBiG,GAChB3F,gBAxChB,WACE,IAAMgH,EAAqBrP,EAAesP,YAAYrP,GAAiBC,GAAoBC,GAE3FqN,GAAsBtN,GAAmBqP,OAAOF,OAuCpC,cAAC,EAAD,OAEF,eAAC,EAAD,CAAgBzM,KAAK,gBAAgBG,YAAY,IAAjD,UACE,cAAC,EAAD,CAAQQ,SAAS,OAAOO,WAAasK,KACrC,cAAC,GAAD,CACExG,gBAAkBA,GAClBG,cAAgBiG,KAElB,cAAC,EAAD,OAEF,eAAC,EAAD,CAAgBpL,KAAK,WAAWG,YAAY,IAA5C,UACE,cAAC,EAAD,CAAQQ,SAAS,OAAOO,WAAasK,KACrC,cAAC,GAAD,CACEtF,cAAgBsB,EAChBD,aA7IhB,SAAqCtI,GACnC8K,GAAa,GAEb7K,EAAQ0N,sBAAsB3N,GAC7BF,MAAK,SAAC4M,GACL,IAAMnC,EAAO,UACXmC,EAAK5N,OAAS2C,EAAY3C,KAAO,sDAAgB4N,EAAK5N,KAAO,KAAO,IADzD,OAGX4N,EAAKpN,QAAUmC,EAAYnC,MAAQ,0CAAmBoN,EAAKpN,MAAQ,IAGrE4L,GAAmB,GACnBF,EAAeT,GACfrF,QAAQC,IAAIoF,GAEZa,GAAe,SAAC3J,GAId,OAHAA,EAAY3C,KAAO4N,EAAK5N,KACxB2C,EAAYnC,MAAQoN,EAAKpN,MAElBmC,QAGV4K,OAAM,SAACC,GACN,IAAMzN,EAAeF,EAAa2N,EAAK,kTAEvCpB,GAAmB,GACnBF,EAAenM,GACfqG,QAAQC,IAAItG,MAEboO,SAAQ,kBAAMnC,GAAa,OAiHdhC,SApKhB,WACE9J,EAAQ4O,SACP9N,MAAK,WACJ,IAAMyK,EAAO,wJAAkC9I,EAAYnC,OAE3D4L,GAAmB,GACnBF,EAAeT,GACfrF,QAAQC,IAAIoF,GAEZc,GAAc,GACdY,aAAakB,WAAW,UACxB1C,EAAQvM,KAAK,QAEdmO,OAAM,SAACC,GACN,IAAMzN,EAAeF,EAAa2N,EAAK,+MAEvCpB,GAAmB,GACnBF,EAAenM,GACfqG,QAAQC,IAAItG,OAmJAgK,WAAW,eAGf,cAAC,IAAD,CAAO9H,KAAK,IAAZ,SACE,cAAC,GAAD,SAGJ,cAAC,GAAD,CAAMmJ,OAASoB,EAAarJ,WAAasK,KACzC,cAAC,GAAD,CACErC,OAASe,EACTV,QAAUQ,EACV/I,QAhPZ,WACEkJ,GAAmB,gBCpGvB2C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,GAAD,QAGJC,SAASC,eAAe,Y","file":"static/js/main.e75238dc.chunk.js","sourcesContent":["class WindowWidthListener {\r\n  setListener(windowWidthHandler) {\r\n    window.addEventListener('resize', windowWidthHandler);\r\n  }\r\n\r\n  removeListener(windowWidthHandler) {\r\n    window.removeEventListener('resize', windowWidthHandler);\r\n  }\r\n}\r\n\r\nconst windowWidthListener = new WindowWidthListener();\r\n\r\nexport default windowWidthListener;\r\n\r\n\r\n","const MAIN_API_BASE_URL = 'https://api.beatfilms.greysmouse.nomoredomains.monster';\r\nconst MOVIES_API_BASE_URL = 'https://api.nomoreparties.co';\r\n\r\nconst USER_NAME_REGEXP = /^[A-Za-zА-Яа-я -]*$/;\r\n\r\nexport { MAIN_API_BASE_URL, MOVIES_API_BASE_URL, USER_NAME_REGEXP };\r\n","import { MOVIES_API_BASE_URL } from '../config';\r\n\r\nclass MoviesFilter {\r\n  constructor(options) {\r\n    this._baseURL = options.baseURL;\r\n  }\r\n\r\n  propertiesFilter(moviesList) {\r\n    return moviesList.map((movie) => {\r\n      return {\r\n        _id: movie._id || '-1',\r\n        country: movie.country || 'no country',\r\n        director: movie.director || 'no director',\r\n        duration: movie.duration || 1000000,\r\n        year: movie.year || 'no year',\r\n        description: movie.description || 'no description',\r\n        image: MOVIES_API_BASE_URL + movie.image.url || '',\r\n        trailer: movie.trailerLink || 'https://example.com/',\r\n        thumbnail: MOVIES_API_BASE_URL + movie.image.formats.thumbnail.url || '',\r\n        movieId: movie.id || 1000000,\r\n        nameRU: movie.nameRU || 'no nameRU',\r\n        nameEN: movie.nameEN || 'noNameEN',\r\n        owner: movie.owner || '-1'\r\n      };\r\n    });  \r\n  };\r\n\r\n  searchFilter(moviesList, searchQuery, isShort) {\r\n    const keyWords = searchQuery.toLowerCase().split(' ').filter((key) => !!key);\r\n  \r\n    const filteredMoviesList = [];\r\n  \r\n    let include;\r\n  \r\n    for (let movie of moviesList) {\r\n      if (isShort && movie.duration > 40) continue;\r\n      \r\n      include = true;     \r\n  \r\n      for (let word of keyWords) {     \r\n        if (!(movie.nameRU || '').toLowerCase().split(' ').includes(word)) {\r\n          if (!(movie.nameEN || '').toLowerCase().split(' ').includes(word)) {\r\n            include = false;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n  \r\n      if (include) filteredMoviesList.push(movie);\r\n    }\r\n    \r\n    return filteredMoviesList;\r\n  }\r\n}\r\n\r\nconst moviesFilter = new MoviesFilter({\r\n  MOVIES_API_BASE_URL\r\n});\r\n\r\nexport default moviesFilter;\r\n","class MoviesUploader {\r\n  getUploadedCards(foundMoviesList, uploadedMoviesList, currentWindowWidth) {\r\n    let cardsNum = 12;\r\n\r\n    if (currentWindowWidth <= 425) cardsNum = 5;\r\n    else if (currentWindowWidth <= 768) cardsNum = 8;\r\n\r\n    if (uploadedMoviesList.length >= cardsNum ) return uploadedMoviesList; // Чтобы не уменьшать уже видимое число фильмов при уменьшении разрешения\r\n    return foundMoviesList.slice(0, cardsNum);\r\n  }\r\n\r\n  uploadCards(foundMoviesList, uploadedMoviesList, currentWindowWidth) {\r\n    const pointer = uploadedMoviesList.length;\r\n    \r\n    let cardsNum = 3;\r\n    if (currentWindowWidth <= 768) cardsNum = 2;\r\n\r\n    if (pointer + cardsNum > foundMoviesList.length) {\r\n      cardsNum = pointer + cardsNum - foundMoviesList.length + 1;\r\n    }\r\n    return foundMoviesList.slice(pointer, pointer + cardsNum);\r\n  }\r\n}\r\n\r\nconst moviesUploader = new MoviesUploader();\r\n\r\nexport default moviesUploader;\r\n","function errorHandler(error, errorMessage) {\r\n  if (error.name === 'TypeError') errorMessage = 'Соединение с сервером не установлено';\r\n  if (error.status === 500) errorMessage = 'Сервер не отвечает';\r\n\r\n  return `Ошибка: ${ errorMessage }`;\r\n}\r\n\r\nexport default errorHandler;\r\n","import { MAIN_API_BASE_URL } from '../config';\r\n\r\nclass AuthApi {\r\n  constructor(options) {\r\n    this._baseURL = options.baseURL;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) return res.json();\r\n    return Promise.reject(res);\r\n  }\r\n  \r\n  register({ email, password, name }) {\r\n    return fetch(`${ this._baseURL }/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ email, password, name })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  login({ email, password }) {\r\n    return fetch(`${ this._baseURL }/signin`, {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ email, password })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  logout() {\r\n    return fetch(`${ this._baseURL }/signout`, {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst authApi = new AuthApi({\r\n  baseURL: MAIN_API_BASE_URL\r\n});\r\n\r\nexport default authApi;\r\n","import { MAIN_API_BASE_URL } from '../config';\r\n\r\nclass UserApi {\r\n  constructor(options) {\r\n    this._baseURL = options.baseURL;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) return res.json();\r\n    return Promise.reject(res);\r\n  }\r\n  \r\n  getUserCredentials() {\r\n    return fetch(`${ this._baseURL }/users/me`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  updateUserCredentials({ email, name }) {\r\n    return fetch(`${ this._baseURL }/users/me`, {\r\n      method: 'PATCH',\r\n      credentials: 'include',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ email, name })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst userApi = new UserApi({\r\n  baseURL: MAIN_API_BASE_URL\r\n});\r\n\r\nexport default userApi;\r\n","import { MAIN_API_BASE_URL, MOVIES_API_BASE_URL } from '../config';\r\n\r\nclass MoviesApi {\r\n  constructor(options) {\r\n    this._mainBaseURL = options.mainBaseURL;\r\n    this._moviesBaseURL = options.moviesBaseURL;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) return res.json();\r\n    return Promise.reject(res);\r\n  }\r\n  \r\n  searchMovies() {\r\n    return fetch(`${ this._moviesBaseURL }/beatfilm-movies`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  getSavedMovies() {\r\n    return fetch(`${ this._mainBaseURL }/movies`, {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  saveMovie({ country, director, duration, year, description, image, trailer, thumbnail, movieId, nameRU, nameEN }) {\r\n    return fetch(`${ this._mainBaseURL }/movies`, {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        country, director, duration, year, description, image, trailer, thumbnail, movieId, nameRU, nameEN\r\n      })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  deleteMovie(movieId) {\r\n    return fetch(`${ this._mainBaseURL }/movies/${ movieId }`, {\r\n      method: 'DELETE',\r\n      credentials: 'include',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst moviesApi = new MoviesApi({\r\n  mainBaseURL: MAIN_API_BASE_URL,\r\n  moviesBaseURL: MOVIES_API_BASE_URL\r\n});\r\n\r\nexport default moviesApi;\r\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;\r\n","import React from 'react';\r\n\r\nconst IsLoggedInContext = React.createContext();\r\n\r\nexport default IsLoggedInContext;\r\n","export default __webpack_public_path__ + \"static/media/current-user-avatar.0f46e148.jpg\";","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport IsLoggedInContext from '../../contexts/IsLoggedInContext';\r\n\r\nfunction ProtectedRoute(props) {\r\n  const isLoggedIn = React.useContext(IsLoggedInContext);\r\n\r\n  return (\r\n    <Route path={ props.path }>\r\n      { isLoggedIn ? props.children : <Redirect to={ props.defaultPath } /> }\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/website-logo.34db3350.svg\";","import { Link } from 'react-router-dom';\r\n\r\nimport websiteLogo from '../../images/website-logo.svg';\r\n\r\nimport './logo.css';\r\n\r\nfunction Logo() {\r\n  return (\r\n    <Link to=\"/\">\r\n      <img className=\"logo\" src={ websiteLogo } alt=\"Логотип сайта\" />\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default Logo;\r\n","export default __webpack_public_path__ + \"static/media/default-student-avatar.c2cd1605.svg\";","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\nimport defaultStudentAvatar from '../../images/default-student-avatar.svg';\r\n\r\nimport './navigation.css';\r\nimport './navigation_location_promo.css';\r\nimport './navigation_location_main.css';\r\nimport './navigation_location_menu.css';\r\nimport './navigation__link.css';\r\nimport './navigation__link_active.css';\r\nimport './navigation__link_type_registry.css';\r\nimport './navigation__link_type_login.css';\r\nimport './navigation__link_type_profile.css';\r\nimport './navigation__profile-avatar.css';\r\n\r\nfunction Navigation(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <nav className={ 'navigation ' + (props.location ? `navigation_location_${props.location}` : '') }>\r\n      { props.location === 'promo' &&\r\n        (\r\n          <>\r\n            <NavLink\r\n              className=\"navigation__link navigation__link_type_registry\"\r\n              to=\"/signup\"\r\n            >\r\n              Регистрация\r\n            </NavLink>\r\n            <NavLink\r\n              className=\"navigation__link navigation__link_type_login\"\r\n              to=\"/signin\"\r\n            >\r\n              Войти\r\n            </NavLink>\r\n          </>\r\n        )\r\n      }\r\n      { props.location === 'main' &&\r\n        (\r\n          <>\r\n            <NavLink\r\n              className=\"navigation__link\"\r\n              activeClassName=\"navigation__link_active\"\r\n              to=\"/movies\"\r\n            >\r\n              Фильмы\r\n            </NavLink>\r\n            <NavLink\r\n              className=\"navigation__link\"\r\n              activeClassName=\"navigation__link_active\"\r\n              to=\"/saved-movies\"\r\n            >\r\n              Сохранённые фильмы\r\n            </NavLink>\r\n            <NavLink\r\n              className=\"navigation__link navigation__link_type_profile\"\r\n              activeClassName=\"navigation__link_active\"\r\n              to=\"/profile\"\r\n            >\r\n              Аккаунт\r\n              <img\r\n                className=\"navigation__profile-avatar\"\r\n                src={ currentUser.avatar || defaultStudentAvatar }\r\n                alt=\"Аватар студента\"\r\n              />\r\n            </NavLink>\r\n          </>\r\n        )\r\n      }\r\n      { props.location === 'menu' &&\r\n        (\r\n          <>\r\n            <NavLink\r\n              exact\r\n              className=\"navigation__link\"\r\n              activeClassName=\"navigation__link_active\"\r\n              to=\"/\"\r\n            >\r\n              Главная\r\n            </NavLink>\r\n            <NavLink\r\n              className=\"navigation__link\"\r\n              activeClassName=\"navigation__link_active\"\r\n              to=\"/movies\"\r\n            >\r\n              Фильмы\r\n            </NavLink>\r\n            <NavLink\r\n              className=\"navigation__link\"\r\n              activeClassName=\"navigation__link_active\"\r\n              to=\"/saved-movies\"\r\n            >\r\n              Сохранённые фильмы\r\n            </NavLink>\r\n            <NavLink\r\n              className=\"navigation__link navigation__link_type_profile\"\r\n              activeClassName=\"navigation__link_active\"\r\n              to=\"/profile\"\r\n            >\r\n              Аккаунт\r\n              <img\r\n                className=\"navigation__profile-avatar\"\r\n                src={ currentUser.avatar || defaultStudentAvatar }\r\n                alt=\"Аватар студента\" />\r\n            </NavLink>\r\n          </>\r\n        )\r\n      }\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","import './menu-button.css';\r\nimport './menu-button_location_promo.css';\r\nimport './menu-button_location_main.css';\r\nimport './menu-button_location_menu.css';\r\n\r\nfunction MenuButton(props) {\r\n  return (\r\n    <button\r\n      className={ 'menu-button ' + (props.location ? `menu-button_location_${props.location}` : '') }\r\n      onClick={ props.onMenuOpen }\r\n    />\r\n  );\r\n}\r\n\r\nexport default MenuButton;\r\n","import Logo from '../Logo/Logo';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport MenuButton from '../MenuButton/MenuButton';\r\n\r\nimport './header.css';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <Logo />\r\n      <Navigation location={ props.location } />\r\n      <MenuButton location={ props.location } onMenuOpen={ props.onMenuOpen } />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { HashLink } from 'react-router-hash-link';\r\n\r\nimport './nav-tab.css';\r\nimport './nav-tab__link.css';\r\n\r\nfunction NavTab(props) {\r\n  return (\r\n    <div className={ 'nav-tab ' + props.addClasses }>\r\n      <HashLink className=\"nav-tab__link\" to=\"/#about-project\">О проекте</HashLink>\r\n      <HashLink className=\"nav-tab__link\" to=\"/#techs\">Технологии</HashLink>\r\n      <HashLink className=\"nav-tab__link\" to=\"/#about-me\">Студент</HashLink>    \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NavTab;\r\n","import NavTab from '../NavTab/NavTab';\r\n\r\nimport './promo.css';\r\nimport './promo__banner.css';\r\nimport './promo__title.css';\r\nimport './promo__nav-tab.css';\r\n\r\nfunction Promo() {\r\n  return (\r\n    <section className=\"promo\">\r\n      <div className=\"promo__banner\">\r\n        <h1 className=\"promo__title\">Учебный проект студента факультета Веб&#8209;разработки.</h1>\r\n        <NavTab addClasses=\"promo__nav-tab\" />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Promo;\r\n","import './section-header.css';\r\n\r\nfunction SectionHeader(props) {\r\n  return (\r\n    <h2 className={ 'section-header ' + (props.addClasses || '') }>{ props.children }</h2>\r\n  );\r\n}\r\n\r\nexport default SectionHeader;\r\n","import './plan-grid.css';\r\nimport './plan-grid__background.css';\r\nimport './plan-grid__background_color_green.css';\r\nimport './plan-grid__background_color_grey.css';\r\nimport './plan-grid__text.css';\r\nimport './plan-grid__text_quarter_one.css';\r\nimport './plan-grid__text_quarter_two.css';\r\nimport './plan-grid__text_quarter_three.css';\r\nimport './plan-grid__text_quarter_four.css';\r\n\r\nfunction PlanGrid(props) {\r\n  return (\r\n    <div className={ 'plan-grid ' + props.addClasses }>\r\n      <div className=\"plan-grid__background plan-grid__background_color_green\">\r\n        <p className=\"plan-grid__text plan-grid__text_quarter_one\">1 неделя</p>\r\n      </div>\r\n      <div className=\"plan-grid__background plan-grid__background_color_grey\">\r\n        <p className=\"plan-grid__text plan-grid__text_quarter_two\">4 недели</p>\r\n      </div>\r\n      <p className=\"plan-grid__text plan-grid__text_quarter_three\">Back-end</p>\r\n      <p className=\"plan-grid__text plan-grid__text_quarter_four\">Front-end</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PlanGrid;\r\n","import SectionHeader from '../SectionHeader/SectionHeader';\r\nimport PlanGrid from '../PlanGrid/PlanGrid';\r\n\r\nimport './about-project.css';\r\nimport './about-project__text-container.css';\r\nimport './about-project__textbox.css';\r\nimport './about-project__textbox-title.css';\r\nimport './about-project__textbox-text.css';\r\nimport './about-project__plan-grid.css';\r\n\r\nfunction AboutProject() {\r\n  return (\r\n    <section className=\"about-project\" id=\"about-project\">\r\n      <SectionHeader>О проекте</SectionHeader>\r\n      <div className=\"about-project__text-container\">\r\n        <div className=\"about-project__textbox\">\r\n          <p className=\"about-project__textbox-title\">\r\n            Дипломный проект включал 5 этапов\r\n          </p>\r\n          <p className=\"about-project__textbox-text\">\r\n            Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.\r\n          </p>\r\n        </div>\r\n        <div className=\"about-project__textbox\">\r\n          <p className=\"about-project__textbox-title\">\r\n            На выполнение диплома ушло 5 недель\r\n          </p>\r\n          <p className=\"about-project__textbox-text\">\r\n            У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.\r\n          </p>\r\n        </div>\r\n        <div className=\"about-project__textbox\">\r\n          <p className=\"about-project__textbox-title\">\r\n            На выполнение диплома ушло 5 недель\r\n          </p>\r\n          <p className=\"about-project__textbox-text\">\r\n            У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <PlanGrid addClasses=\"about-project__plan-grid\" />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutProject;\r\n","import SectionHeader from '../SectionHeader/SectionHeader';\r\n\r\nimport './techs.css';\r\nimport './techs__title.css';\r\nimport './techs__description.css';\r\nimport './techs__link-list.css';\r\nimport './techs__link.css';\r\n\r\nfunction Techs() {\r\n  return (\r\n    <section className=\"techs\" id=\"techs\">\r\n      <SectionHeader>Технологии</SectionHeader>\r\n      <p className=\"techs__title\">7 технологий</p>\r\n      <p className=\"techs__description\">\r\n        На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.\r\n      </p>\r\n      <ul className=\"techs__link-list\">\r\n        <li>\r\n          <a\r\n            className=\"techs__link\"\r\n            href=\"https://developer.mozilla.org/ru/docs/Web/HTML/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            HTML\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a\r\n            className=\"techs__link\"\r\n            href=\"https://developer.mozilla.org/ru/docs/Web/CSS/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            CSS\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a\r\n            className=\"techs__link\"\r\n            href=\"https://developer.mozilla.org/ru/docs/Web/JavaScript/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            JS\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a\r\n            className=\"techs__link\"\r\n            href=\"https://reactjs.org/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            React\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a\r\n            className=\"techs__link\"\r\n            href=\"https://git-scm.com/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Git\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a\r\n            className=\"techs__link\"\r\n            href=\"https://expressjs.com/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Express.js\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a\r\n            className=\"techs__link\"\r\n            href=\"https://www.mongodb.com/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            mongoDB\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Techs;\r\n","import React from 'react';\r\n\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\n\r\nimport './portfolio.css';\r\nimport './portfolio__title.css';\r\nimport './portfolio__link-container.css';\r\nimport './portfolio__link.css';\r\nimport './portfolio__link-text.css';\r\n\r\nfunction Portfolio(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    currentUser.portfolio.length !== 0 &&\r\n      <article className={ 'portfolio ' + (props.addClasses || '') }>\r\n        <h3 className=\"portfolio__title\">Портфолио</h3>\r\n        {\r\n          currentUser.portfolio.map((app, i) => {\r\n            return (\r\n              <div className=\"portfolio__link-container\" key={ i }>\r\n                <a\r\n                  className=\"portfolio__link\"\r\n                  href={ app.link }\r\n                  target=\"_black\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  <p className=\"portfolio__link-text\">{ app.name }</p>\r\n                  <p className=\"portfolio__link-text\">↗</p>\r\n                </a>\r\n              </div>\r\n            );\r\n          })\r\n        }\r\n      </article>\r\n  );\r\n}\r\n\r\nexport default Portfolio;\r\n","import React from 'react';\r\n\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\nimport defaultStudentAvatar from '../../images/default-student-avatar.svg';\r\n\r\nimport './student-card.css';\r\nimport './student-card__text-container.css';\r\nimport './student-card__name.css';\r\nimport './student-card__bio.css';\r\nimport './student-card__description.css';\r\nimport './student-card__link-list.css';\r\nimport './student-card__link.css';\r\nimport './student-card__avatar.css';\r\n\r\nfunction StudentCard(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <article className={ 'student-card ' + (props.addClasses || '') }>\r\n      <div className=\"student-card__text-container\">\r\n        { currentUser.name && <p className=\"student-card__name\">{ currentUser.name }</p> }\r\n        { currentUser.bio && <p className=\"student-card__bio\">{ currentUser.bio }</p> }\r\n        { currentUser.description && <p className=\"student-card__description\">{ currentUser.description }</p> }\r\n        { currentUser.accounts.length !== 0 && \r\n          <ul className=\"student-card__link-list\">\r\n            {\r\n              currentUser.accounts.map((account, i) => {\r\n                return (\r\n                  <li key={ i }>\r\n                    <a className=\"student-card__link\" href={ account.link } target=\"_blank\" rel=\"noreferrer\">\r\n                      { account.name }\r\n                    </a>\r\n                  </li>\r\n                );\r\n              })\r\n            }\r\n          </ul>\r\n        }\r\n      </div>\r\n      <img\r\n        className=\"student-card__avatar\"\r\n        src={ currentUser.avatar || defaultStudentAvatar } \r\n        alt=\"Аватар студента\"\r\n      />\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default StudentCard;\r\n","import SectionHeader from '../SectionHeader/SectionHeader';\r\nimport Portfolio from '../Portfolio/Portfolio';\r\nimport StudentCard from '../StudentCard/StudentCard';\r\n\r\nimport './about-me.css';\r\nimport './about-me__section-header.css';\r\nimport './about-me__student-card.css';\r\nimport './about-me__portfolio.css';\r\n\r\nfunction AboutMe() {\r\n  return (\r\n    <section className=\"about-me\" id=\"about-me\">\r\n      <SectionHeader addClasses=\"about-me__section-header\">Студент</SectionHeader>\r\n      <StudentCard addClasses=\"about-me__student-card\" />\r\n      <Portfolio addClasses=\"about-me__portfolio\" />\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AboutMe;\r\n","import Promo from '../Promo/Promo';\r\nimport AboutProject from '../AboutProject/AboutProject';\r\nimport Techs from '../Techs/Techs';\r\nimport AboutMe from '../AboutMe/AboutMe';\r\n\r\nimport './main.css';\r\n\r\nfunction Main() {\r\n  return (\r\n    <main className=\"main\">\r\n      <Promo />\r\n      <AboutProject />\r\n      <Techs />\r\n      <AboutMe />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\n\r\nimport './footer.css';\r\nimport './footer__description.css';\r\nimport './footer__container.css';\r\nimport './footer__copyright.css';\r\nimport './footer__link-list.css';\r\nimport './footer__link.css';\r\n\r\nfunction Footer() {\r\n  const currentUser = React.useContext(CurrentUserContext);  \r\n  const currentYear = new Date().getFullYear();\r\n  \r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__description\">Учебный проект Яндекс.Практикум х BeatFilm.</p>\r\n      <div className=\"footer__container\">\r\n        <p className=\"footer__copyright\">© { currentYear }</p>\r\n        <ul className=\"footer__link-list\">\r\n          <li>\r\n            <a className=\"footer__link\" href=\"https://practicum.yandex.ru/\" target=\"_black\" rel=\"noreferrer\">\r\n              Яндекс.Практикум\r\n            </a>\r\n          </li>\r\n          {\r\n            currentUser.accounts.map((account, i) => {\r\n              return (\r\n                <li key={ i }>\r\n                  <a className=\"footer__link\" href={ account.link } target=\"_black\" rel=\"noreferrer\">\r\n                    { account.name }\r\n                  </a>\r\n                </li>\r\n              );\r\n            })\r\n          }\r\n        </ul>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nimport './filter-checkbox.css';\r\nimport './filter-checkbox__input.css';\r\nimport './filter-checkbox__label.css';\r\nimport './filter-checkbox__label_checked.css';\r\n\r\nfunction FilterCheckbox(props) {\r\n  return (\r\n    <div className={ 'filter-checkbox ' + (props.addClasses || '') }>\r\n      <input className=\"filter-checkbox__input\" id=\"filter-__input\" type=\"checkbox\" />\r\n      <label \r\n        className={ 'filter-checkbox__label ' + (props.isChecked ? 'filter-checkbox__label_checked' : '') }\r\n        htmlFor=\"filter-checkbox__input\"\r\n        onClick={ props.onCheck }\r\n      >\r\n        Короткометражки\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilterCheckbox;\r\n","import React from 'react';\r\n\r\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\r\n\r\nimport './search-form.css';\r\nimport './search-form__input.css';\r\nimport './search-form__submit-button.css';\r\nimport './search-form__filter-checkbox.css';\r\n\r\nfunction SearchForm(props) {\r\n  const [ searchQuery, setSearchQuery ] = React.useState('');\r\n  const [ isFormValid, setIsFormValid ] = React.useState(false);\r\n\r\n  const [ isShortMovie, setIsShortMovie ] = React.useState(false);\r\n\r\n  function handleMovieTitleInput(evt) {\r\n    const { value } = evt.target;\r\n\r\n    setSearchQuery(value);\r\n    setIsFormValid(value.length !== 0);\r\n  }\r\n\r\n  function handleFilterCheckboxCheck() {\r\n    setIsShortMovie(!isShortMovie);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    \r\n    if (isFormValid || props.page === 'saved-movies') {\r\n      props.onMoviesSearch(searchQuery, isShortMovie);\r\n    }\r\n    else console.log('Нужно ввести ключевое слово');\r\n  }\r\n\r\n  return (\r\n    <form className=\"search-form\">\r\n      <input\r\n        className=\"search-form__input\"\r\n        placeholder=\"Поиск фильма\"\r\n        autoComplete=\"off\"\r\n        spellCheck=\"false\"\r\n        required\r\n        type=\"text\"\r\n        value={ searchQuery }\r\n        onChange={ handleMovieTitleInput }\r\n      />\r\n      <button\r\n        className=\"search-form__submit-button\"\r\n        onClick={ handleSubmit }\r\n        disabled={ props.disabled }\r\n      >\r\n        Найти\r\n      </button>\r\n      <FilterCheckbox\r\n        addClasses=\"search-form__filter-checkbox\"\r\n        onCheck={ handleFilterCheckboxCheck }\r\n        isChecked={ isShortMovie }\r\n      />\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import './preloader.css';\r\nimport './preloader__container.css';\r\nimport './preloader__round.css';\r\n\r\nfunction Preloader() {\r\n  return (\r\n    <div className=\"preloader\">\r\n      <div className=\"preloader__container\">\r\n          <span className=\"preloader__round\" />\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Preloader;\r\n","import React from 'react';\r\n\r\nimport './movie-card.css';\r\nimport './movie-card__header.css';\r\nimport './movie-card__caption.css';\r\nimport './movie-card__duration-info.css';\r\nimport './movie-card__link.css';\r\nimport './movie-card__thumbnail.css';\r\nimport './movie-card__add-button.css';\r\nimport './movie-card__add-button_state_added.css';\r\nimport './movie-card__add-button_state_saved.css';\r\n\r\nfunction MoviesCard(props) {\r\n  function handleMovieSave() {\r\n    props.isSaved ? props.onDelete(props.movie._id) : props.onSave(props.movie);\r\n  }\r\n\r\n  let addButtonClass = '';\r\n\r\n  if (props.page === 'movies' && props.isSaved) addButtonClass = 'movie-card__add-button_state_added';\r\n  else if (props.page === 'saved-movies' && props.isSaved) addButtonClass= 'movie-card__add-button_state_saved';\r\n\r\n  return (\r\n    <div className=\"movie-card\">\r\n      <div className=\"movie-card__header\">\r\n        <p className=\"movie-card__caption\">{ props.movie.nameRU || props.movie.nameEN }</p>\r\n        <p className=\"movie-card__duration-info\">{ props.movie.duration + ' минут(ы)' }</p>\r\n      </div>\r\n      <a\r\n        className=\"movie-card__link\"\r\n        href={ props.movie.trailer }\r\n        target=\"_blank\"\r\n        rel=\"noreferrer\"\r\n      >\r\n        <img\r\n          className=\"movie-card__thumbnail\"\r\n          src={ props.movie.image }\r\n          alt=\"Постер фильма\"\r\n        />\r\n      </a>\r\n      <button\r\n        className={ 'movie-card__add-button ' + addButtonClass }\r\n        onClick={ handleMovieSave }\r\n      >\r\n        { props.isSaved ? '' : 'Сохранить' }\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MoviesCard;\r\n","import Preloader from '../Preloader/Preloader';\r\nimport MoviesCard from '../MoviesCard/MoviesCard';\r\n\r\nimport './movies-card-list.css';\r\nimport './movies-card-list__text.css';\r\n\r\nfunction MoviesCardList(props) {\r\n\r\n  return (\r\n    <section className={ 'movies-card-list ' + (props.addClasses || '') }>\r\n      {\r\n        props.page === 'movies' && (\r\n          props.isMoviesLoading ?\r\n            <Preloader />\r\n          :\r\n            props.uploadedMoviesList.length ? \r\n              props.uploadedMoviesList.map((uploadedMovie) => {\r\n                const savedMovie = props.savedMoviesList.find((savedMovie) => {\r\n                  return savedMovie.movieId === uploadedMovie.movieId;\r\n                });\r\n\r\n                const movie = savedMovie || uploadedMovie;\r\n\r\n                return (\r\n                  <MoviesCard\r\n                    key={ movie.movieId }\r\n                    page=\"movies\"\r\n                    movie={ movie }\r\n                    isSaved={ !!savedMovie }\r\n                    onSave={ props.onMovieSave }\r\n                    onDelete={ props.onMovieDelete }\r\n                  />\r\n                );\r\n              })\r\n            :\r\n              <p className=\"movies-card-list__text\">Ничего не найдено</p>\r\n        )\r\n      }\r\n      {\r\n        props.page === 'saved-movies' && (\r\n          props.isMoviesLoading ?\r\n            <Preloader />\r\n          :\r\n            props.isFiltered ?\r\n              props.filteredMoviesList.length ?\r\n                props.filteredMoviesList.map((movie) => {\r\n                  return (\r\n                    <MoviesCard\r\n                      key={ movie.movieId }\r\n                      page=\"saved-movies\"\r\n                      movie={ movie }\r\n                      isSaved={ true }\r\n                      onDelete={ props.onMovieDelete }\r\n                    />\r\n                  );\r\n                })\r\n              :\r\n                <p className=\"movies-card-list__text\">Ничего не найдено</p>\r\n            :\r\n              props.savedMoviesList.map((movie) => {\r\n                return (\r\n                  <MoviesCard\r\n                    key={ movie.movieId }\r\n                    page=\"saved-movies\"\r\n                    movie={ movie }\r\n                    isSaved={ true }\r\n                    onDelete={ props.onMovieDelete }\r\n                  />\r\n                );\r\n              })\r\n          )\r\n      }\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default MoviesCardList;\r\n","import './movies-uploader.css';\r\nimport './movies-uploader__button.css';\r\n\r\nfunction MoviesUploader(props) {\r\n  return (\r\n    <div className=\"movies-uploader\">\r\n      <button\r\n        className=\"movies-uploader__button\"\r\n        onClick={ props.onButtonClick }\r\n      >\r\n        Еще\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MoviesUploader;\r\n","import SearchForm from '../SearchForm/SearchForm';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\nimport MoviesUploader from '../MoviesUploader/MoviesUploader';\r\n\r\nimport './movies.css';\r\n\r\nfunction Movies(props) {\r\n  return (\r\n    <main className=\"movies\">\r\n      <SearchForm\r\n        page=\"movies\"\r\n        onMoviesSearch={ props.onMoviesSearch }\r\n        disabled={ props.isMoviesLoading }\r\n      />\r\n      {\r\n        // founded\r\n        (props.uploadedMoviesList.length || props.isSearchButtonClicked) && <MoviesCardList\r\n          page=\"movies\"\r\n          foundMoviesList={ props.foundMoviesList }\r\n          uploadedMoviesList={ props.uploadedMoviesList }\r\n          savedMoviesList={ props.savedMoviesList }\r\n          isMoviesLoading={ props.isMoviesLoading }\r\n          onMovieSave={ props.onMovieSave }\r\n          onMovieDelete={ props.onMovieDelete }\r\n        />\r\n      }\r\n      {\r\n        props.uploadedMoviesList.length !== props.foundMoviesList.length && <MoviesUploader\r\n          onButtonClick={ props.onUploaderClick }\r\n        />\r\n      }\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Movies;\r\n","import React from 'react';\r\n\r\nimport moviesFilter from '../../utils/moviesFilter';\r\n\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\r\n\r\nimport './saved-movies.css';\r\nimport './saved-movies__movies-card-list.css';\r\n\r\nfunction SavedMovies(props) {\r\n  const [ filteredMoviesList, setFilteredMoviesList ] = React.useState([]);\r\n  const [ isFiltered, setIsFiltered ] = React.useState(false);\r\n\r\n  function handleSavedMoviesSearch(searchQuery, isShort) {\r\n    if (searchQuery) {\r\n      const filteredMovies = moviesFilter.searchFilter(props.savedMoviesList, searchQuery, isShort);\r\n\r\n      setFilteredMoviesList(filteredMovies);\r\n      setIsFiltered(true);\r\n    }\r\n    else setIsFiltered(false);\r\n  }\r\n\r\n  return (\r\n    <main className=\"saved-movies\">\r\n      <SearchForm\r\n        page=\"saved-movies\"\r\n        onMoviesSearch={ handleSavedMoviesSearch }\r\n      />\r\n      {\r\n        props.savedMoviesList.length && <MoviesCardList\r\n          addClasses=\"saved-movies__movies-card-list\"\r\n          page=\"saved-movies\"\r\n          savedMoviesList={ props.savedMoviesList }\r\n          filteredMoviesList={ filteredMoviesList }\r\n          isFiltered={ isFiltered }\r\n          onMovieDelete={ props.onMovieDelete }\r\n        />\r\n      }\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default SavedMovies;\r\n","import React from 'react';\r\n\r\nimport './profile-form.css';\r\nimport './profile-form__input-span.css';\r\nimport './profile-form__input-span_visible.css';\r\nimport './profile-form__submit-button.css';\r\nimport './profile-form__submit-button_disabled.css';\r\n\r\nfunction ProfileForm(props) {\r\n  return (\r\n    <form className={ 'profile-form ' + (props.addClasses || '') }>\r\n      { props.children }\r\n      <span\r\n        className={ 'profile-form__input-span ' + (props.isSpanVisible ? 'profile-form__input-span_visible' : '') }\r\n      >\r\n        { props.spanText }\r\n      </span>\r\n      <button\r\n        className={ 'profile-form__submit-button ' + (props.isFormValid && !props.isDataLoading ? '' : 'profile-form__submit-button_disabled') } \r\n        onClick={ props.onSubmit }\r\n        disabled={ !props.isFormValid || props.isDataLoading }\r\n      >\r\n        { props.isDataLoading ? 'Сохранение...' : 'Редактировать' }\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default ProfileForm;\r\n","import './profile-form__input.css';\r\nimport './profile-form__input-label.css';\r\nimport './profile-form__input-label_last.css';\r\n\r\nfunction ProfileFormInput(props) {\r\n  return (\r\n    <label className={ 'profile-form__input-label ' + (props.addClasses || '') }>\r\n      { props.labelText }\r\n      <input\r\n        className=\"profile-form__input\"\r\n        minLength={ props.minLength }\r\n        maxLength={ props.maxLength }\r\n        placeholder={ props.placeholder }\r\n        autoComplete=\"off\"\r\n        spellCheck=\"false\"\r\n        type={ props.type }\r\n        value={ props.value }\r\n        onChange={ props.onChange }\r\n      />\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default ProfileFormInput;\r\n","import React from 'react';\r\nimport Validator from 'validator';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { USER_NAME_REGEXP } from '../../config';\r\n\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\n\r\nimport ProfileForm from '../ProfileForm/ProfileForm';\r\nimport ProfileFormInput from '../ProfileFormInput/ProfileFormInput';\r\n\r\nimport './profile.css';\r\nimport './profile__form-container.css';\r\nimport './profile__title.css';\r\nimport './profile__form.css';\r\nimport './profile__logout-link.css';\r\n\r\nfunction Profile(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [ userName, setUserName ] = React.useState('');\r\n  const [ userEmail, setUserEmail ] = React.useState('');\r\n\r\n  const [ isValidUserName, setIsValidUserName ] = React.useState(true);\r\n  const [ isValidUserEmail, setIsValidUserEmail ] = React.useState(true);\r\n\r\n  const [ spanText, setSpanText ] = React.useState('');\r\n  const [ userNameSpanText, setUserNameSpanText ] = React.useState('');\r\n  const [ userEmailSpanText, setUserEmailSpanText ] = React.useState('');\r\n\r\n  const [ isFormValid, setIsFormValid ] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if ((!userName && !userEmail) || !isValidUserName || !isValidUserEmail) setIsFormValid(false);\r\n    else setIsFormValid(true);\r\n\r\n    if (!isValidUserName) setSpanText(userNameSpanText);\r\n    else if (!isValidUserEmail) setSpanText(userEmailSpanText);\r\n    else setSpanText('');\r\n\r\n  }, [ userName, userEmail, isValidUserName, isValidUserEmail, userNameSpanText, userEmailSpanText ]);\r\n\r\n  function handleUserNameInput(evt) {\r\n    const { value, validity: { valid } } = evt.target;\r\n\r\n    setUserName(value);\r\n    setIsValidUserName((Validator.matches(value, USER_NAME_REGEXP) && valid && (value !== currentUser.name)) || !value);\r\n\r\n    if (!Validator.matches(value, USER_NAME_REGEXP)) {\r\n      setUserNameSpanText('Допустимы только символы: А-Я(A-Z), а-я(a-z), тире или пробел');\r\n    }\r\n    else if (value === currentUser.name) {\r\n      setUserNameSpanText('Введённое имя совпадает с текущим');\r\n    }\r\n    else if (!valid) {\r\n      setUserNameSpanText('Длина имени должна быть от 2 до 30 символов');\r\n    }\r\n  }\r\n\r\n  function handleUserEmailInput(evt) {\r\n    const { value } = evt.target;\r\n\r\n    setUserEmail(value);\r\n    setIsValidUserEmail((Validator.isEmail(value) && (value !== currentUser.email)) || !value);\r\n\r\n    if (value === currentUser.email) {\r\n      setUserEmailSpanText('Введённый E-mail совпадает с текущим');\r\n    }\r\n    else if (!Validator.isEmail(value)) {\r\n      setUserEmailSpanText('Некорректный формат E-mail');\r\n    }\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    \r\n    props.onUserUpdate({\r\n      email: userEmail || currentUser.email,\r\n      name: userName || currentUser.name\r\n    });\r\n    \r\n    setIsFormValid(false);\r\n  }\r\n\r\n  return (\r\n    <section className=\"profile\">\r\n      <div className=\"profile__form-container\">\r\n        <h2 className=\"profile__title\">{ `Привет, ${ currentUser.name }` }</h2>\r\n        <ProfileForm\r\n          addClasses=\"profile__form\"\r\n          onSubmit={ handleSubmit }\r\n          isFormValid={ isFormValid }\r\n          isDataLoading={ props.isLoading }\r\n          spanText={ spanText }\r\n          isSpanVisible={ !isValidUserName || !isValidUserEmail }\r\n        >\r\n          <ProfileFormInput\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            placeholder=\"Введите новое имя\"\r\n            labelText=\"Имя\"\r\n            type=\"text\"\r\n            value={ userName }\r\n            onChange={ handleUserNameInput }\r\n          />\r\n          <ProfileFormInput\r\n            addClasses=\"profile-form__input-label_last\"\r\n            placeholder=\"Введите новый E-mail\"\r\n            labelText=\"E-mail\"\r\n            type=\"email\"\r\n            value={ userEmail }\r\n            onChange={ handleUserEmailInput }\r\n          />\r\n        </ProfileForm>\r\n        <Link\r\n          className=\"profile__logout-link\"\r\n          to={ props.logoutLink }\r\n          onClick={ props.onLogout }\r\n        >\r\n          Выйти из аккаунта\r\n        </Link>\r\n      </div>      \r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import './auth-form.css';\r\nimport './auth-form__submit-button.css';\r\nimport './auth-form__submit-button_disabled.css';\r\n\r\nfunction AuthForm(props) {\r\n  return (\r\n      <form className={ 'auth-form ' + (props.addClasses || '') }>\r\n        { props.children }\r\n        <button\r\n          className={ 'auth-form__submit-button ' + (props.isFormValid && !props.isDataLoading ? '' : 'auth-form__submit-button_disabled')}\r\n          onClick={ props.onSubmit }\r\n          disabled={ !props.isFormValid || props.isDataLoading }\r\n        >\r\n          { props.isDataLoading ? 'Сохранение...' : props.submitButtonText }\r\n        </button>\r\n      </form>\r\n  );\r\n}\r\n\r\nexport default AuthForm;\r\n","import { Link } from 'react-router-dom';\r\n\r\nimport Logo from '../Logo/Logo';\r\nimport AuthForm from '../AuthForm/AuthForm';\r\n\r\nimport './auth-page.css';\r\nimport './auth-page__form-container.css';\r\nimport './auth-page__title.css';\r\nimport './auth-page__form.css';\r\nimport './auth-page__redirect-text.css';\r\nimport './auth-page__redirect-link.css';\r\n\r\nfunction AuthPage(props) {\r\n  return (\r\n    <section className=\"auth-page\">\r\n      <div className=\"auth-page__form-container\">\r\n        <Logo />\r\n        <h2 className=\"auth-page__title\">{ props.pageTitle }</h2>\r\n        <AuthForm\r\n          addClasses=\"auth-page__form\"\r\n          submitButtonText={ props.submitButtonText }\r\n          onSubmit={ props.onSubmit }\r\n          isFormValid={ props.isFormValid }\r\n          isDataLoading={ props.isLoading }\r\n        >\r\n          { props.children }\r\n        </AuthForm>\r\n        <p className=\"auth-page__redirect-text\">\r\n          { props.redirectText }\r\n          <Link\r\n            className=\"auth-page__redirect-link\"\r\n            to={ props.redirectLink }\r\n          >\r\n            { props.redirectLinkText }\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AuthPage;\r\n","import './auth-form__input.css';\r\nimport './auth-form__input-label.css';\r\nimport './auth-form__input-span.css';\r\nimport './auth-form__input-span_visible.css';\r\n\r\nfunction AuthFormInput(props) {\r\n  return (\r\n    <>\r\n      <label className=\"auth-form__input-label\">\r\n        { props.labelText }\r\n        <input\r\n          className=\"auth-form__input\"\r\n          minLength={ props.minLength }\r\n          maxLength={ props.maxLength }\r\n          placeholder={ props.placeholder }\r\n          autoComplete=\"off\"\r\n          spellCheck=\"false\"\r\n          required\r\n          type={ props.type }\r\n          value={ props.value }\r\n          onChange={ props.onChange }\r\n        />\r\n      </label>\r\n      <span\r\n        className={ 'auth-form__input-span ' + (props.isSpanVisible ? 'auth-form__input-span_visible' : '') }\r\n      >\r\n        { props.spanText }\r\n      </span>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AuthFormInput;\r\n","import React from 'react';\r\nimport Validator from 'validator';\r\n\r\nimport { USER_NAME_REGEXP } from '../../config';\r\n\r\nimport AuthPage from \"../AuthPage/AuthPage\";\r\nimport AuthFormInput from \"../AuthFormInput/AuthFormInput\";\r\n\r\nfunction Register(props) {\r\n  const [ userName, setUserName ] = React.useState('');\r\n  const [ userEmail, setUserEmail ] = React.useState('');\r\n  const [ userPassword, setUserPassword ] = React.useState('');\r\n\r\n  const [ isValidUserName, setIsValidUserName ] = React.useState(false);\r\n  const [ isValidUserEmail, setIsValidUserEmail ] = React.useState(false);\r\n  const [ isValidUserPassword, setIsValidUserPassword ] = React.useState(false);\r\n\r\n  const [ userNameSpanText, setUserNameSpanText ] = React.useState('');\r\n  const [ userEmailSpanText, setUserEmailSpanText ] = React.useState('');\r\n  const [ userPasswordSpanText, setUserPasswordSpanText ] = React.useState('');\r\n\r\n  const [ isFormValid, setIsFormValid ] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (!isValidUserName || !isValidUserEmail || !isValidUserPassword) setIsFormValid(false);\r\n    else setIsFormValid(true);\r\n  }, [ isValidUserName, isValidUserEmail, isValidUserPassword ]);\r\n\r\n  function handleUserNameInput(evt) {\r\n    const { value, validity: { valid } } = evt.target;\r\n\r\n    setUserName(value);\r\n    setIsValidUserName(Validator.matches(value, USER_NAME_REGEXP) && valid);\r\n\r\n    if (!Validator.matches(value, USER_NAME_REGEXP)) {\r\n      setUserNameSpanText('Допустимы только символы: А-Я(A-Z), а-я(a-z), тире или пробел');\r\n    }\r\n    else if (!value) setUserNameSpanText('Поле не заполнено');\r\n    else if (!valid) setUserNameSpanText('Длина имени должна быть от 2 до 30 символов');\r\n  }\r\n\r\n  function handleUserEmailInput(evt) {\r\n    const { value } = evt.target;\r\n\r\n    setUserEmail(value);\r\n    setIsValidUserEmail(Validator.isEmail(value));\r\n\r\n    if (!value) setUserEmailSpanText('Поле не заполнено');\r\n    else setUserEmailSpanText('Некорректный формат E-mail');\r\n  }\r\n\r\n  function handleUserPasswordInput(evt) {\r\n    const { value, validity: { valid } } = evt.target;\r\n\r\n    setUserPassword(value);\r\n    setIsValidUserPassword(valid);\r\n\r\n    if (!value) setUserPasswordSpanText('Поле не заполнено');\r\n    else setUserPasswordSpanText('Длина пароля должна быть не менее 8 символов');\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onRegister({\r\n      email: userEmail,\r\n      password: userPassword,\r\n      name: userName\r\n    });\r\n  }\r\n\r\n  return (\r\n    <AuthPage\r\n      pageTitle=\"Добро пожаловать!\"\r\n      submitButtonText=\"Зарегистрироваться\"\r\n      onSubmit={ handleSubmit }\r\n      isFormValid={ isFormValid }\r\n      isDataLoading={ props.isLoading }\r\n      redirectText=\"Уже зарегистрированы?\"\r\n      redirectLink=\"/signin\"\r\n      redirectLinkText=\"Войти\"\r\n    >\r\n      <AuthFormInput\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        placeholder=\"Введите имя\"\r\n        labelText=\"Имя\"\r\n        type=\"text\"\r\n        value={ userName }\r\n        onChange={ handleUserNameInput }\r\n        spanText={ userNameSpanText }\r\n        isSpanVisible={ !isValidUserName }\r\n      />\r\n      <AuthFormInput\r\n        placeholder=\"Укажите адрес электронной почты\"\r\n        labelText=\"E-mail\"\r\n        type=\"email\"\r\n        value={ userEmail }\r\n        onChange={ handleUserEmailInput }\r\n        spanText={ userEmailSpanText }\r\n        isSpanVisible={ !isValidUserEmail }\r\n      />\r\n      <AuthFormInput\r\n        minLength=\"8\"\r\n        placeholder=\"Придумайте пароль\"\r\n        labelText=\"Пароль\"\r\n        type=\"password\"\r\n        value={ userPassword }\r\n        onChange={ handleUserPasswordInput }\r\n        spanText={ userPasswordSpanText }\r\n        isSpanVisible={ !isValidUserPassword }\r\n      />\r\n    </AuthPage>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport Validator from 'validator';\r\n\r\nimport AuthPage from \"../AuthPage/AuthPage\";\r\nimport AuthFormInput from \"../AuthFormInput/AuthFormInput\";\r\n\r\nfunction Login(props) {\r\n  const [ userEmail, setUserEmail ] = React.useState('');\r\n  const [ userPassword, setUserPassword ] = React.useState('');\r\n\r\n  const [ isValidUserEmail, setIsValidUserEmail ] = React.useState(false);\r\n  const [ isValidUserPassword, setIsValidUserPassword ] = React.useState(false);\r\n\r\n  const [ userEmailSpanText, setUserEmailSpanText ] = React.useState('');\r\n  const [ userPasswordSpanText, setUserPasswordSpanText ] = React.useState('');\r\n\r\n  const [ isFormValid, setIsFormValid ] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (!isValidUserEmail || !isValidUserPassword) setIsFormValid(false);\r\n    else setIsFormValid(true);\r\n  }, [ isValidUserEmail, isValidUserPassword ]);\r\n\r\n  function handleUserEmailInput(evt) {\r\n    const { value } = evt.target;\r\n\r\n    setUserEmail(value);\r\n    setIsValidUserEmail(Validator.isEmail(value));\r\n\r\n    if (!value) setUserEmailSpanText('Поле не заполнено');\r\n    else setUserEmailSpanText('Некорректный формат E-mail');\r\n  }\r\n\r\n  function handleUserPasswordInput(evt) {\r\n    const { value, validity: { valid } } = evt.target;\r\n\r\n    setUserPassword(value);\r\n    setIsValidUserPassword(valid);\r\n\r\n    if (!value) setUserPasswordSpanText('Поле не заполнено');\r\n    else setUserPasswordSpanText('Длина пароля должна быть не менее 8 символов');\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    \r\n    props.onLogin({\r\n      email: userEmail,\r\n      password: userPassword\r\n    });\r\n  }\r\n\r\n  return (\r\n    <AuthPage\r\n      pageTitle=\"Рады видеть!\"\r\n      submitButtonText=\"Войти\"\r\n      onSubmit={ handleSubmit }\r\n      isFormValid={ isFormValid }\r\n      isDataLoading={ props.isLoading }\r\n      redirectText=\"Ещё не зарегистрированы?\"\r\n      redirectLink=\"/signup\"\r\n      redirectLinkText=\"Регистрация\"\r\n    >\r\n      <AuthFormInput\r\n        placeholder=\"Введите адрес электронной почты\"\r\n        labelText=\"E-mail\"\r\n        type=\"email\"\r\n        value={ userEmail }\r\n        onChange={ handleUserEmailInput }\r\n        spanText={ userEmailSpanText }\r\n        isSpanVisible={ !isValidUserEmail }\r\n      />\r\n      <AuthFormInput\r\n        minLength=\"8\"\r\n        placeholder=\"Введите пароль\"\r\n        labelText=\"Пароль\"\r\n        type=\"password\"\r\n        value={ userPassword }\r\n        onChange={ handleUserPasswordInput }\r\n        spanText={ userPasswordSpanText }\r\n        isSpanVisible={ !isValidUserPassword }\r\n      />\r\n    </AuthPage>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import MenuButton from '../MenuButton/MenuButton';\r\nimport Navigation from '../Navigation/Navigation';\r\n\r\nimport './menu.css';\r\nimport './menu__container.css';\r\nimport './menu_open.css';\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <aside className={ 'menu ' + (props.isOpen ? 'menu_open' : '') }>\r\n      <div className=\"menu__container\">\r\n        <MenuButton location=\"menu\" onMenuOpen={ props.onMenuOpen } />\r\n        <Navigation location=\"menu\" />\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n","import { Link, useHistory } from 'react-router-dom';\r\n\r\nimport './not-found-page.css';\r\nimport './not-found-page__title.css';\r\nimport './not-found-page__subtitle.css';\r\nimport './not-found-page__backward-link.css';\r\n\r\nfunction NotFoundPage() {\r\n  return (\r\n    <section className=\"not-found-page\">\r\n      <h2 className=\"not-found-page__title\">404</h2>\r\n      <p className=\"not-found-page__subtitle\">Страница не найдена</p>\r\n      <Link className=\"not-found-page__backward-link\" onClick={ useHistory().goBack } >Назад</Link>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default NotFoundPage;\r\n","import React from 'react';\r\n\r\nimport './error-info-popup.css';\r\nimport './error-info-popup_visible.css';\r\nimport './error-info-popup__text.css';\r\n\r\nfunction ErrorInfoPopup(props) {\r\n  return (\r\n    <div\r\n      className={ 'error-info-popup ' + (props.isOpen ? 'error-info-popup_visible' : '') }\r\n      onClick={ props.onClick }\r\n    >\r\n      <p className=\"error-info-popup__text\">{ props.message }</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorInfoPopup;\r\n","import React from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\n\r\nimport windowWidthListener from '../../utils/windowWidthListener';\r\nimport moviesFilter from '../../utils/moviesFilter';\r\nimport moviesUploader from '../../utils/moviesUploader';\r\nimport errorHandler from '../../utils/errorHandler';\r\n\r\nimport authApi from '../../utils/authApi';\r\nimport userApi from '../../utils/userApi';\r\nimport moviesApi from '../../utils/moviesApi';\r\n\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\nimport IsLoggedInContext from '../../contexts/IsLoggedInContext';\r\n\r\nimport currentUserAvatar from '../../images/current-user-avatar.jpg';\r\n\r\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\r\nimport Header from '../Header/Header';\r\nimport Main from '../Main/Main';\r\nimport Footer from '../Footer/Footer';\r\nimport Movies from '../Movies/Movies';\r\nimport SavedMovies from '../SavedMovies/SavedMovies';\r\nimport Profile from '../Profile/Profile';\r\nimport Register from '../Register/Register';\r\nimport Login from '../Login/Login';\r\nimport Menu from '../Menu/Menu';\r\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\r\nimport ErrorInfoPopup from '../ErrorInfoPopup/ErrorInfoPopup';\r\n\r\nimport './app.css';\r\nimport './app__container.css';\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n\r\n  const [ currentWindowWidth, setCurrentWindowWidth ] = React.useState(window.innerWidth);\r\n  const [ isWindowWidthResizing, setIsWindowWidthResizing ] = React.useState(false);\r\n  const [ isLoading, setIsLoading ] = React.useState(false);\r\n  const [ infoMessage, setInfoMessage ] = React.useState('');\r\n  const [ isInfoPopupOpen, setIsInfoPopupOpen ] = React.useState(false);\r\n\r\n  const [ currentUser, setCurrentUser ] = React.useState({\r\n    name: 'Mouse Greys',\r\n    email: 'greys.mouse@yandex.ru',\r\n    bio: 'Фронтенд-разработчик, 24 года',\r\n    description: 'Живу в городе Ярославль. Закончила физический факультет по специальности электроника и наноэлектроника. Люблю решать математические задачки. В настоящее время обучаюсь в Яндекс Практикум.',\r\n    avatar: currentUserAvatar,\r\n    accounts: [\r\n      { name: 'Facebook', link: 'https://www.facebook.com/' },\r\n      { name: 'Github', link: 'https://github.com/GreysMouse/' }\r\n    ],\r\n    portfolio: [\r\n      { name: 'Статичный сайт', link: 'https://github.com/GreysMouse/how-to-learn/' },\r\n      { name: 'Адаптивный сайт', link: 'https://github.com/GreysMouse/russian-travel/' },\r\n      { name: 'Одностраничное приложение', link: 'https://github.com/GreysMouse/react-mesto-api-full/' }\r\n    ]\r\n  });\r\n  \r\n  const [ isLoggedIn, setIsLoggedIn ] = React.useState(false);\r\n\r\n  const [ isMenuOpen, setIsMenuOpen ] = React.useState(false);\r\n  const [ isMoviesSearchButtonClicked,  setIsMoviesSearchButtonClicked ] = React.useState(false);\r\n   \r\n  const [ foundMoviesList, setFoundMoviesList ] = React.useState([]);  \r\n  const [ uploadedMoviesList, setUploadedMoviesList ] = React.useState([]);\r\n  const [ savedMoviesList,  setSavedMoviesList ] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    windowWidthListener.setListener(handleWindowWidth);\r\n\r\n    userApi.getUserCredentials()\r\n    .then((user) => handleAuthorization(user))\r\n    .catch((err) => console.log(errorHandler(err, 'Необходима авторизация')));\r\n\r\n    moviesApi.getSavedMovies()\r\n    .then((movies) => setSavedMoviesList(movies))\r\n    .catch((err) => console.log(errorHandler(err, 'Необходима авторизация')));\r\n\r\n    return () => {\r\n      windowWidthListener.removeListener(handleWindowWidth);\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    setUploadedMoviesList((uploadedMoviesList) => {\r\n      return moviesUploader.getUploadedCards(foundMoviesList, uploadedMoviesList, currentWindowWidth);\r\n    });\r\n  }, [ foundMoviesList, currentWindowWidth ]);\r\n\r\n  React.useEffect(() => {\r\n    if (isInfoPopupOpen) setTimeout(() => setIsInfoPopupOpen(false), 5000);\r\n  }, [ isInfoPopupOpen ]);\r\n\r\n  function handleWindowWidth(evt) {\r\n    if (!isWindowWidthResizing) {\r\n      setIsWindowWidthResizing(true);\r\n\r\n      setTimeout(() => {\r\n        setCurrentWindowWidth(evt.target.innerWidth);\r\n        setIsWindowWidthResizing(false);\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  function handleInfoPopupClick() {\r\n    setIsInfoPopupOpen(false);\r\n  }\r\n\r\n  function handleAuthorization({ email, name }) {\r\n    console.log(`Выполнен вход в аккаунт ${ email }`);\r\n\r\n    setCurrentUser((currentUser) => {\r\n      currentUser.name = name;\r\n      currentUser.email = email;\r\n\r\n      return currentUser;\r\n    });\r\n\r\n    setIsLoggedIn(true);\r\n    setFoundMoviesList(JSON.parse(localStorage.getItem('movies')) || []);\r\n\r\n    history.push('/movies');\r\n  }\r\n\r\n  function handleRegister(user) {\r\n    setIsLoading(true);\r\n    \r\n    authApi.register(user)\r\n    .then(() => {\r\n      const message = 'Регистрация прошла успешно. Введите адрес электронной почты и пароль, чтобы войти';\r\n\r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(message);\r\n      console.log(message);\r\n\r\n      history.push('/signin');\r\n    })\r\n    .catch((err) => {\r\n      const errorMessage = errorHandler(err, 'Неверные данные или пользователь с таким E-mail уже существует');\r\n      \r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(errorMessage);\r\n      console.log(errorMessage);\r\n    })\r\n    .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleLogin(user) {\r\n    setIsLoading(true);\r\n\r\n    authApi.login(user)\r\n    .then((user) => {\r\n      localStorage.removeItem('movies');\r\n      handleAuthorization(user);\r\n\r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(`Выполнен вход в аккаунт ${ user.email }`);\r\n    })\r\n    .catch((err) => {\r\n      const errorMessage = errorHandler(err, 'Неверный логин или пароль');\r\n      \r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(errorMessage);\r\n      console.log(errorMessage);\r\n    })\r\n    .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleLogout() {\r\n    authApi.logout()\r\n    .then(() => {\r\n      const message = `Выполнен выход из аккаунта ${ currentUser.email }`;\r\n\r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(message);\r\n      console.log(message);\r\n\r\n      setIsLoggedIn(false);\r\n      localStorage.removeItem('movies');\r\n      history.push('/');\r\n    })\r\n    .catch((err) => {\r\n      const errorMessage = errorHandler(err, 'Не удалось выполнить выход из аккаунта');\r\n      \r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(errorMessage);\r\n      console.log(errorMessage);\r\n    });\r\n  }\r\n\r\n  function handleUserCredentialsUpdate(credentials) {\r\n    setIsLoading(true);\r\n\r\n    userApi.updateUserCredentials(credentials)\r\n    .then((user) => {\r\n      const message = `${\r\n        user.name !== currentUser.name ? 'Новое имя: ' + user.name + '\\n' : ''\r\n      }${\r\n        user.email !== currentUser.email ? 'Новый E-mail: ' + user.email : ''\r\n      }`;     \r\n\r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(message);\r\n      console.log(message);\r\n\r\n      setCurrentUser((currentUser) => {\r\n        currentUser.name = user.name;\r\n        currentUser.email = user.email;\r\n\r\n        return currentUser;\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      const errorMessage = errorHandler(err, 'Неверные данные или пользователь с таким E-mail уже существует');\r\n      \r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(errorMessage);\r\n      console.log(errorMessage);\r\n    })\r\n    .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleMoviesSearch(searchQuery, isShort) {\r\n    setIsLoading(true);\r\n\r\n    moviesApi.searchMovies()\r\n    .then((moviesList) => {\r\n      const filteredMoviesList = moviesFilter.propertiesFilter(moviesFilter.searchFilter(moviesList, searchQuery, isShort));\r\n\r\n      setFoundMoviesList(filteredMoviesList);\r\n      setIsMoviesSearchButtonClicked(true);\r\n\r\n      localStorage.setItem('movies', JSON.stringify(filteredMoviesList));\r\n    })\r\n    .catch((err) => {\r\n      const errorMessage = errorHandler(err, 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз');\r\n      \r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(errorMessage);\r\n      console.log(errorMessage);\r\n    })\r\n    .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleMovieSave(movie) {\r\n    moviesApi.saveMovie(movie)\r\n    .then((movie) => setSavedMoviesList([ movie, ...savedMoviesList ]))\r\n    .catch((err) => {\r\n      const errorMessage = errorHandler(err, 'Карточка с таким идентификатором уже добавлена в избранное');\r\n      \r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(errorMessage);\r\n      console.log(errorMessage);\r\n    });\r\n  }\r\n\r\n  function handleMovieDelete(movieId) {\r\n    moviesApi.deleteMovie(movieId)\r\n    .then(() => setSavedMoviesList((savedMoviesList) => {\r\n        return savedMoviesList.filter((savedMovie) => savedMovie._id !== movieId);\r\n      })\r\n    )\r\n    .catch((err) => {\r\n      const errorMessage = errorHandler(err, 'Не удалось удалить карточку');\r\n      \r\n      setIsInfoPopupOpen(true);\r\n      setInfoMessage(errorMessage);\r\n      console.log(errorMessage);\r\n    });\r\n  }\r\n\r\n  function handleMenuButtonClick() {\r\n    setIsMenuOpen(!isMenuOpen);\r\n  }\r\n\r\n  function handleMoviesUploaderClick() {\r\n    const uploadedMovieCards = moviesUploader.uploadCards(foundMoviesList, uploadedMoviesList, currentWindowWidth);\r\n\r\n    setUploadedMoviesList(uploadedMoviesList.concat(uploadedMovieCards));\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={ currentUser }>\r\n      <IsLoggedInContext.Provider value={ isLoggedIn }>\r\n        <div className=\"app\">\r\n          <div className=\"app__container\">\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <Header location=\"promo\" />\r\n                <Main />\r\n                <Footer />\r\n              </Route>            \r\n              <Route path=\"/signup\">\r\n                <Register\r\n                  onRegister={ handleRegister }\r\n                  isDataLoading={ isLoading }\r\n                />\r\n              </Route>\r\n              <Route path=\"/signin\">\r\n                <Login\r\n                  onLogin={ handleLogin }\r\n                  isDataLoading={ isLoading }\r\n                />\r\n              </Route>\r\n              <ProtectedRoute path=\"/movies\" defaultPath=\"/\">\r\n                <Header location=\"main\" onMenuOpen={ handleMenuButtonClick } />\r\n                <Movies\r\n                  isMoviesLoading={ isLoading }\r\n                  isSearchButtonClicked={ isMoviesSearchButtonClicked }  \r\n                  foundMoviesList={ foundMoviesList }\r\n                  uploadedMoviesList={ uploadedMoviesList }\r\n                  savedMoviesList={ savedMoviesList }\r\n                  onMoviesSearch={ handleMoviesSearch }\r\n                  onMovieSave={ handleMovieSave }\r\n                  onMovieDelete={ handleMovieDelete }\r\n                  onUploaderClick={ handleMoviesUploaderClick }            \r\n                />\r\n                <Footer />\r\n              </ProtectedRoute>\r\n              <ProtectedRoute path=\"/saved-movies\" defaultPath=\"/\">\r\n                <Header location=\"main\" onMenuOpen={ handleMenuButtonClick } />\r\n                <SavedMovies\r\n                  savedMoviesList={ savedMoviesList }\r\n                  onMovieDelete={ handleMovieDelete }\r\n                />\r\n                <Footer />\r\n              </ProtectedRoute>\r\n              <ProtectedRoute path=\"/profile\" defaultPath=\"/\">\r\n                <Header location=\"main\" onMenuOpen={ handleMenuButtonClick } />\r\n                <Profile\r\n                  isDataLoading={ isLoading }\r\n                  onUserUpdate={ handleUserCredentialsUpdate }\r\n                  onLogout={ handleLogout }\r\n                  logoutLink=\"/signin\"\r\n                />\r\n              </ProtectedRoute>\r\n              <Route path=\"*\">\r\n                <NotFoundPage />\r\n              </Route>\r\n            </Switch>\r\n            <Menu isOpen={ isMenuOpen } onMenuOpen={ handleMenuButtonClick } />\r\n            <ErrorInfoPopup\r\n              isOpen={ isInfoPopupOpen }\r\n              message={ infoMessage }\r\n              onClick={ handleInfoPopupClick }\r\n            />\r\n          </div>\r\n        </div>\r\n      </IsLoggedInContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport './index.css';\r\n\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}